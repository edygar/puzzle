var Ln=Object.defineProperty;var En=(e,t,n)=>t in e?Ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Tn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var he=(e,t,n)=>(En(e,typeof t!="symbol"?t+"":t,n),n);var Ds=Tn((Vs,qe)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const On=(e,t)=>e===t,re=Symbol("solid-proxy"),Re=Symbol("solid-track"),He={equals:On};let Wt=Zt;const pe=1,Ge=2,Ut={owned:null,cleanups:null,context:null,owner:null};var I=null;let lt=null,N=null,Y=null,ue=null,tt=0;function xe(e,t){const n=N,r=I,s=e.length===0,i=t===void 0?r:t,o=s?Ut:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=s?e:()=>e(()=>G(()=>nt(o)));I=o,N=null;try{return ye(a,!0)}finally{N=n,I=r}}function Q(e,t){t=t?Object.assign({},He,t):He;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Yt(n,s));return[Xt.bind(n),r]}function H(e,t,n){const r=Pt(e,t,!1,pe);Fe(r)}function ce(e,t,n){Wt=Bn;const r=Pt(e,t,!1,pe);(!n||!n.render)&&(r.user=!0),ue?ue.push(r):Fe(r)}function k(e,t,n){n=n?Object.assign({},He,n):He;const r=Pt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Fe(r),Xt.bind(r)}function kn(e){return ye(e,!1)}function G(e){if(N===null)return e();const t=N;N=null;try{return e()}finally{N=t}}function Ht(e,t,n){const r=Array.isArray(e);let s,i=n&&n.defer;return o=>{let a;if(r){a=Array(e.length);for(let f=0;f<e.length;f++)a[f]=e[f]()}else a=e();if(i){i=!1;return}const l=G(()=>t(a,s,o));return s=a,l}}function Gt(e){ce(()=>G(e))}function J(e){return I===null||(I.cleanups===null?I.cleanups=[e]:I.cleanups.push(e)),e}function dt(){return N}function Rn(){return I}function In(e,t){const n=I,r=N;I=e,N=null;try{return ye(t,!0)}catch(s){At(s)}finally{I=n,N=r}}function Kt(e){const t=N,n=I;return Promise.resolve().then(()=>{N=t,I=n;let r;return ye(e,!1),N=I=null,r?r.done:void 0})}const[jn,qs]=Q(!1);function Nn(){return[jn,Kt]}function zt(e,t){const n=Symbol("context");return{id:n,Provider:Vn(n),defaultValue:e}}function xt(e){return I&&I.context&&I.context[e.id]!==void 0?I.context[e.id]:e.defaultValue}function St(e){const t=k(e),n=k(()=>ht(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Xt(){if(this.sources&&this.state)if(this.state===pe)Fe(this);else{const e=Y;Y=null,ye(()=>ze(this),!1),Y=e}if(N){const e=this.observers?this.observers.length:0;N.sources?(N.sources.push(this),N.sourceSlots.push(e)):(N.sources=[this],N.sourceSlots=[e]),this.observers?(this.observers.push(N),this.observerSlots.push(N.sources.length-1)):(this.observers=[N],this.observerSlots=[N.sources.length-1])}return this.value}function Yt(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ye(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],o=lt&&lt.running;o&&lt.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?Y.push(i):ue.push(i),i.observers&&Qt(i)),o||(i.state=pe)}if(Y.length>1e6)throw Y=[],new Error},!1)),t}function Fe(e){if(!e.fn)return;nt(e);const t=tt;Fn(e,e.value,t)}function Fn(e,t,n){let r;const s=I,i=N;N=I=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=pe,e.owned&&e.owned.forEach(nt),e.owned=null),e.updatedAt=n+1,At(o)}finally{N=i,I=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Yt(e,r):e.value=r,e.updatedAt=n)}function Pt(e,t,n,r=pe,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:I,context:I?I.context:null,pure:n};return I===null||I!==Ut&&(I.owned?I.owned.push(i):I.owned=[i]),i}function Ke(e){if(e.state===0)return;if(e.state===Ge)return ze(e);if(e.suspense&&G(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<tt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===pe)Fe(e);else if(e.state===Ge){const r=Y;Y=null,ye(()=>ze(e,t[0]),!1),Y=r}}function ye(e,t){if(Y)return e();let n=!1;t||(Y=[]),ue?n=!0:ue=[],tt++;try{const r=e();return Dn(n),r}catch(r){n||(ue=null),Y=null,At(r)}}function Dn(e){if(Y&&(Zt(Y),Y=null),e)return;const t=ue;ue=null,t.length&&ye(()=>Wt(t),!1)}function Zt(e){for(let t=0;t<e.length;t++)Ke(e[t])}function Bn(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Ke(r)}for(t=0;t<n;t++)Ke(e[t])}function ze(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const s=r.state;s===pe?r!==t&&(!r.updatedAt||r.updatedAt<tt)&&Ke(r):s===Ge&&ze(r,t)}}}function Qt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ge,n.pure?Y.push(n):ue.push(n),n.observers&&Qt(n))}}function nt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),o=n.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,n.observerSlots[r]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)nt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function qn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function At(e,t=I){throw qn(e)}function ht(e){if(typeof e=="function"&&!e.length)return ht(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=ht(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Vn(e,t){return function(r){let s;return H(()=>s=G(()=>(I.context={...I.context,[e]:r.value},St(()=>r.children))),void 0),s}}const gt=Symbol("fallback");function Xe(e){for(let t=0;t<e.length;t++)e[t]()}function Wn(e,t,n={}){let r=[],s=[],i=[],o=0,a=t.length>1?[]:null;return J(()=>Xe(i)),()=>{let l=e()||[],f,u;return l[Re],G(()=>{let g=l.length,b,C,P,A,v,m,p,y,x;if(g===0)o!==0&&(Xe(i),i=[],r=[],s=[],o=0,a&&(a=[])),n.fallback&&(r=[gt],s[0]=xe(E=>(i[0]=E,n.fallback())),o=1);else if(o===0){for(s=new Array(g),u=0;u<g;u++)r[u]=l[u],s[u]=xe(h);o=g}else{for(P=new Array(g),A=new Array(g),a&&(v=new Array(g)),m=0,p=Math.min(o,g);m<p&&r[m]===l[m];m++);for(p=o-1,y=g-1;p>=m&&y>=m&&r[p]===l[y];p--,y--)P[y]=s[p],A[y]=i[p],a&&(v[y]=a[p]);for(b=new Map,C=new Array(y+1),u=y;u>=m;u--)x=l[u],f=b.get(x),C[u]=f===void 0?-1:f,b.set(x,u);for(f=m;f<=p;f++)x=r[f],u=b.get(x),u!==void 0&&u!==-1?(P[u]=s[f],A[u]=i[f],a&&(v[u]=a[f]),u=C[u],b.set(x,u)):i[f]();for(u=m;u<g;u++)u in P?(s[u]=P[u],i[u]=A[u],a&&(a[u]=v[u],a[u](u))):s[u]=xe(h);s=s.slice(0,o=g),r=l.slice(0)}return s});function h(g){if(i[u]=g,a){const[b,C]=Q(u);return a[u]=C,t(l[u],b)}return t(l[u])}}}function Un(e,t,n={}){let r=[],s=[],i=[],o=[],a=0,l;return J(()=>Xe(i)),()=>{const f=e()||[];return f[Re],G(()=>{if(f.length===0)return a!==0&&(Xe(i),i=[],r=[],s=[],a=0,o=[]),n.fallback&&(r=[gt],s[0]=xe(h=>(i[0]=h,n.fallback())),a=1),s;for(r[0]===gt&&(i[0](),i=[],r=[],s=[],a=0),l=0;l<f.length;l++)l<r.length&&r[l]!==f[l]?o[l](()=>f[l]):l>=r.length&&(s[l]=xe(u));for(;l<r.length;l++)i[l]();return a=o.length=i.length=f.length,r=f.slice(0),s=s.slice(0,a)});function u(h){i[l]=h;const[g,b]=Q(f[l]);return o[l]=b,t(g,l)}}}function w(e,t){return G(()=>e(t||{}))}function We(){return!0}const mt={get(e,t,n){return t===re?n:e.get(t)},has(e,t){return t===re?!0:e.has(t)},set:We,deleteProperty:We,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:We,deleteProperty:We}},ownKeys(e){return e.keys()}};function ct(e){return(e=typeof e=="function"?e():e)?e:{}}function Hn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function oe(...e){let t=!1;for(let i=0;i<e.length;i++){const o=e[i];t=t||!!o&&re in o,e[i]=typeof o=="function"?(t=!0,k(o)):o}if(t)return new Proxy({get(i){for(let o=e.length-1;o>=0;o--){const a=ct(e[o])[i];if(a!==void 0)return a}},has(i){for(let o=e.length-1;o>=0;o--)if(i in ct(e[o]))return!0;return!1},keys(){const i=[];for(let o=0;o<e.length;o++)i.push(...Object.keys(ct(e[o])));return[...new Set(i)]}},mt);const n={},r={},s=new Set;for(let i=e.length-1;i>=0;i--){const o=e[i];if(!o)continue;const a=Object.getOwnPropertyNames(o);for(let l=0,f=a.length;l<f;l++){const u=a[l];if(u==="__proto__"||u==="constructor")continue;const h=Object.getOwnPropertyDescriptor(o,u);if(!s.has(u))h.get?(s.add(u),Object.defineProperty(n,u,{enumerable:!0,configurable:!0,get:Hn.bind(r[u]=[h.get.bind(o)])})):(h.value!==void 0&&s.add(u),n[u]=h.value);else{const g=r[u];g?h.get?g.push(h.get.bind(o)):h.value!==void 0&&g.push(()=>h.value):n[u]===void 0&&(n[u]=h.value)}}}return n}function Se(e,...t){if(re in e){const s=new Set(t.length>1?t.flat():t[0]),i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},mt));return i.push(new Proxy({get(o){return s.has(o)?void 0:e[o]},has(o){return s.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!s.has(o))}},mt)),i}const n={},r=t.map(()=>({}));for(const s of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,s),o=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let a=!1,l=0;for(const f of t)f.includes(s)&&(a=!0,o?r[l][s]=i.value:Object.defineProperty(r[l],s,i)),++l;a||(o?n[s]=i.value:Object.defineProperty(n,s,i))}return[...r,n]}const Gn=e=>`Stale read from <${e}>.`;function Ye(e){const t="fallback"in e&&{fallback:()=>e.fallback};return k(Wn(()=>e.each,e.children,t||void 0))}function Kn(e){const t="fallback"in e&&{fallback:()=>e.fallback};return k(Un(()=>e.each,e.children,t||void 0))}function ge(e){const t=e.keyed,n=k(()=>e.when,void 0,{equals:(r,s)=>t?r===s:!r==!s});return k(()=>{const r=n();if(r){const s=e.children;return typeof s=="function"&&s.length>0?G(()=>s(t?r:()=>{if(!G(n))throw Gn("Show");return e.when})):s}return e.fallback},void 0,void 0)}const zn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Xn=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...zn]),Yn=new Set(["innerHTML","textContent","innerText","children"]),Zn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Qn=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Jn(e,t){const n=Qn[e];return typeof n=="object"?n[t]?n.$:void 0:n}const er=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),tr=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),nr={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function rr(e,t,n){let r=n.length,s=t.length,i=r,o=0,a=0,l=t[s-1].nextSibling,f=null;for(;o<s||a<i;){if(t[o]===n[a]){o++,a++;continue}for(;t[s-1]===n[i-1];)s--,i--;if(s===o){const u=i<r?a?n[a-1].nextSibling:n[i-a]:l;for(;a<i;)e.insertBefore(n[a++],u)}else if(i===a)for(;o<s;)(!f||!f.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[i-1]&&n[a]===t[s-1]){const u=t[--s].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--i],u),t[s]=n[i]}else{if(!f){f=new Map;let h=a;for(;h<i;)f.set(n[h],h++)}const u=f.get(t[o]);if(u!=null)if(a<u&&u<i){let h=o,g=1,b;for(;++h<s&&h<i&&!((b=f.get(t[h]))==null||b!==u+g);)g++;if(g>u-a){const C=t[o];for(;a<u;)e.insertBefore(n[a++],C)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const Ot="_$DX_DELEGATE";function sr(e,t,n,r={}){let s;return xe(i=>{s=i,t===document?e():z(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{s(),t.textContent=""}}function W(e,t,n){let r;const s=()=>{const o=document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:o.content.firstChild},i=t?()=>G(()=>document.importNode(r||(r=s()),!0)):()=>(r||(r=s())).cloneNode(!0);return i.cloneNode=i,i}function $t(e,t=window.document){const n=t[Ot]||(t[Ot]=new Set);for(let r=0,s=e.length;r<s;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,ur))}}function me(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ir(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function or(e,t){t==null?e.removeAttribute("class"):e.className=t}function ar(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const s=n[0];e.addEventListener(t,n[0]=i=>s.call(e,n[1],i))}else e.addEventListener(t,n)}function Jt(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let i,o;for(i=0,o=s.length;i<o;i++){const a=s[i];!a||a==="undefined"||t[a]||(kt(e,a,!1),delete n[a])}for(i=0,o=r.length;i<o;i++){const a=r[i],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(kt(e,a,!0),n[a]=l)}return n}function en(e,t,n){if(!t)return n?me(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let s,i;for(i in n)t[i]==null&&r.removeProperty(i),delete n[i];for(i in t)s=t[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function De(e,t={},n,r){const s={};return r||H(()=>s.children=Ee(e,t.children,s.children)),H(()=>t.ref&&t.ref(e)),H(()=>lr(e,t,n,!0,s,!0)),s}function Le(e,t,n){return G(()=>e(t,n))}function z(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Ee(e,t,r,n);H(s=>Ee(e,t(),s,n),r)}function lr(e,t,n,r,s={},i=!1){t||(t={});for(const o in s)if(!(o in t)){if(o==="children")continue;s[o]=Rt(e,o,null,s[o],n,i)}for(const o in t){if(o==="children"){r||Ee(e,t.children);continue}const a=t[o];s[o]=Rt(e,o,a,s[o],n,i)}}function cr(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function kt(e,t,n){const r=t.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)e.classList.toggle(r[s],n)}function Rt(e,t,n,r,s,i){let o,a,l,f,u;if(t==="style")return en(e,n,r);if(t==="classList")return Jt(e,n,r);if(n===r)return r;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);r&&e.removeEventListener(h,r),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);r&&e.removeEventListener(h,r,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),g=er.has(h);if(!g&&r){const b=Array.isArray(r)?r[0]:r;e.removeEventListener(h,b)}(g||n)&&(ar(e,h,n,g),g&&$t([h]))}else if(t.slice(0,5)==="attr:")me(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(l=Yn.has(t))||!s&&((f=Jn(t,e.tagName))||(a=Xn.has(t)))||(o=e.nodeName.includes("-")))u&&(t=t.slice(5),a=!0),t==="class"||t==="className"?or(e,n):o&&!a&&!l?e[cr(t)]=n:e[f||t]=n;else{const h=s&&t.indexOf(":")>-1&&nr[t.split(":")[0]];h?ir(e,h,t,n):me(e,Zn[t]||t,n)}return n}function ur(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const s=n[`${t}Data`];if(s!==void 0?r.call(n,s,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Ee(e,t,n,r,s){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),o){let a=n[0];a&&a.nodeType===3?a.data=t:a=document.createTextNode(t),n=$e(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||i==="boolean")n=$e(e,n,r);else{if(i==="function")return H(()=>{let a=t();for(;typeof a=="function";)a=a();n=Ee(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(pt(a,t,n,s))return H(()=>n=Ee(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=$e(e,n,r),o)return n}else l?n.length===0?It(e,a,r):rr(e,n,a):(n&&$e(e),It(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=$e(e,n,r,t);$e(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function pt(e,t,n,r){let s=!1;for(let i=0,o=t.length;i<o;i++){let a=t[i],l=n&&n[i],f;if(!(a==null||a===!0||a===!1))if((f=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))s=pt(e,a,l)||s;else if(f==="function")if(r){for(;typeof a=="function";)a=a();s=pt(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||s}else e.push(a),s=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return s}function It(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function $e(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let i=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(s!==a){const l=a.parentNode===e;!i&&!o?l?e.replaceChild(s,a):e.insertBefore(s,n):l&&a.remove()}else i=!0}}else e.insertBefore(s,n);return[s]}const fr=!1,dr="http://www.w3.org/2000/svg";function hr(e,t=!1){return t?document.createElementNS(dr,e):document.createElement(e)}function gr(e){const[t,n]=Se(e,["component"]),r=k(()=>t.component);return k(()=>{const s=r();switch(typeof s){case"function":return G(()=>s(n));case"string":const i=tr.has(s),o=hr(s,i);return De(o,n,i),o}})}const yt=Symbol("store-raw"),Me=Symbol("store-node"),le=Symbol("store-has"),tn=Symbol("store-self");function nn(e){let t=e[re];if(!t&&(Object.defineProperty(e,re,{value:t=new Proxy(e,yr)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let s=0,i=n.length;s<i;s++){const o=n[s];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function Ze(e){let t;return e!=null&&typeof e=="object"&&(e[re]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Ie(e,t=new Set){let n,r,s,i;if(n=e!=null&&e[yt])return n;if(!Ze(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,a=e.length;o<a;o++)s=e[o],(r=Ie(s,t))!==s&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,f=o.length;l<f;l++)i=o[l],!a[i].get&&(s=e[i],(r=Ie(s,t))!==s&&(e[i]=r))}return e}function Qe(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function je(e,t,n){if(e[t])return e[t];const[r,s]=Q(n,{equals:!1,internal:!0});return r.$=s,e[t]=r}function mr(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===re||t===Me||(delete n.value,delete n.writable,n.get=()=>e[re][t]),n}function rn(e){dt()&&je(Qe(e,Me),tn)()}function pr(e){return rn(e),Reflect.ownKeys(e)}const yr={get(e,t,n){if(t===yt)return e;if(t===re)return n;if(t===Re)return rn(e),n;const r=Qe(e,Me),s=r[t];let i=s?s():e[t];if(t===Me||t===le||t==="__proto__")return i;if(!s){const o=Object.getOwnPropertyDescriptor(e,t);dt()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(i=je(r,t,i)())}return Ze(i)?nn(i):i},has(e,t){return t===yt||t===re||t===Re||t===Me||t===le||t==="__proto__"?!0:(dt()&&je(Qe(e,le),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:pr,getOwnPropertyDescriptor:mr};function Je(e,t,n,r=!1){if(!r&&e[t]===n)return;const s=e[t],i=e.length;n===void 0?(delete e[t],e[le]&&e[le][t]&&s!==void 0&&e[le][t].$()):(e[t]=n,e[le]&&e[le][t]&&s===void 0&&e[le][t].$());let o=Qe(e,Me),a;if((a=je(o,t,s))&&a.$(()=>n),Array.isArray(e)&&e.length!==i){for(let l=e.length;l<i;l++)(a=o[l])&&a.$();(a=je(o,"length",i))&&a.$(e.length)}(a=o[tn])&&a.$()}function sn(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const s=n[r];Je(e,s,t[s])}}function vr(e,t){if(typeof t=="function"&&(t=t(e)),t=Ie(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const s=t[n];e[n]!==s&&Je(e,n,s)}Je(e,"length",r)}else sn(e,t)}function Oe(e,t,n=[]){let r,s=e;if(t.length>1){r=t.shift();const o=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Oe(e,[r[l]].concat(t),n);return}else if(a&&o==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&Oe(e,[l].concat(t),n);return}else if(a&&o==="object"){const{from:l=0,to:f=e.length-1,by:u=1}=r;for(let h=l;h<=f;h+=u)Oe(e,[h].concat(t),n);return}else if(t.length>1){Oe(e[r],t,[r].concat(n));return}s=e[r],n=[r].concat(n)}let i=t[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=Ie(i),r===void 0||Ze(s)&&Ze(i)&&!Array.isArray(i)?sn(s,i):Je(e,r,i))}function rt(...[e,t]){const n=Ie(e||{}),r=Array.isArray(n),s=nn(n);function i(...o){kn(()=>{r&&o.length===1?vr(n,o[0]):Oe(n,o)})}return[s,i]}const vt=Symbol.for("tw-classed.vars"),br=e=>e.filter(Boolean).join(" "),jt=(e,t)=>typeof t=="boolean"||!t?e:e?e+" "+t:t,wr=e=>{let t=[],n={},r={},s=[],i=new Set,o={};for(const a of e)if(a){if(typeof a=="string"){t.push(a);continue}if(typeof a=="object"||typeof a=="function"){const l=Reflect.has(a,vt)?Reflect.get(a,vt):a;l.variants&&Object.assign(n,l.variants),l.defaultVariants&&Object.assign(r,l.defaultVariants),l.compoundVariants&&l.compoundVariants.forEach(f=>s.push(f)),l.className&&t.push(l.className),l.base&&t.push(l.base),l.dataAttributes&&l.dataAttributes.forEach(f=>{i.add(f)}),l.defaultProps&&Object.assign(o,l.defaultProps)}}return{className:br(t),variants:n,defaultVariants:r,compoundVariants:s,dataAttributes:Array.from(i),defaultProps:o}},xr=(e,t,{defaultVariants:n})=>{var r;const s=t[e];return(s==null?void 0:s.toString())||(n==null||(r=n[e])==null?void 0:r.toString())},Sr=({variants:e,defaultVariants:t,compoundVariants:n},r={},s=!1)=>{const i=new Set,o=Object.keys(e).reduce((l,f)=>{const u=xr(f,r,{defaultVariants:t});if(!u)return l;s&&i.add(f);const h=e[f][u];return h?jt(l,h):l},""),a=Pr({props:r,defaultVariants:t},n);return s&&i.forEach(l=>delete r[l]),jt(o,a==null?void 0:a.join(" "))};function Pr({props:e,defaultVariants:t},n=[]){return n.reduce((r,{class:s,className:i,...o})=>(Object.entries(o).some(([l,f])=>{const u=e[l],h=u!==void 0?u:t==null?void 0:t[l];return Array.isArray(f)?!f.includes(h):h!==f})||(s&&r.push(s),i&&r.push(i)),r),[])}const on=Symbol.for("tw-classed.component"),Nt=e=>(typeof e=="object"||typeof e=="function")&&Reflect.has(e,on),Ar=(...e)=>e.filter(Boolean).join(" "),$r=(e,t,{merger:n=Ar}={})=>{const{className:r,variants:s,defaultVariants:i,compoundVariants:o}=wr(t),a=Object.keys(s),l=f=>{const[u,h]=Se(f,["as","class"]),[,g]=Se(h,a),b=Nt(e)?e:u.as||e,C=k(()=>{const[A]=Se(f,a);return Sr({variants:s,defaultVariants:i,compoundVariants:o},A,!0)}),P=k(()=>n(r,u.class,C()));return w(gr,oe({component:b,get class(){return P()}},g,{get as(){return Nt(e)?u.as:void 0}}))};return Reflect.set(l,vt,{className:r,variants:s,defaultVariants:i}),Reflect.set(l,on,!0),l},Mr=e=>{const t=(r,...s)=>$r(r,s,e);return{classed:new Proxy(t,{get:(r,s)=>function(...i){return t.apply(this,[s,...i])}})}},Be=Mr({}).classed,Cr=Be.h1("my-3 [text-shadow:_0_2px_5px_rgba(0,0,0,.5)] text-center text-white",{variants:{level:{6:"text-md",5:"text-lg",4:"text-xl",3:"text-2xl",2:"text-4xl",1:"text-6xl"}}}),Pe=e=>w(Cr,oe({get as(){return`h${e.level||1}`}},e)),_r=W('<div class="m-auto grid aspect-square shadow">'),Lr=W('<button type=button class="border border-white bg-white/70">');function Er(e){const[t,n]=Q(0);return ce(()=>{const r=e.tiles,s=setInterval(n,1e3,()=>Math.floor(Math.random()*r));J(()=>clearInterval(s))}),(()=>{const r=_r();return r.style.setProperty("width","var(--w)"),r.style.setProperty("gap","calc(var(--w) / var(--tilesPerAxis) * 0.2)"),r.style.setProperty("grid-template-columns","repeat(var(--tilesPerAxis), minmax(0, 1fr))"),z(r,w(Ye,{get each(){return Array.from({length:e.tiles})},children:(s,i)=>(()=>{const o=Lr();return o.$$click=()=>n(i()),H(a=>{const l={"transition duration-300":i()===t()},f=i()===t()?{transform:"rotate(90deg)"}:{};return a._v$3=Jt(o,l,a._v$3),a._v$4=en(o,f,a._v$4),a},{_v$3:void 0,_v$4:void 0}),o})()})),H(s=>{const i=e.width??"80px",o=e.tiles**(1/2);return i!==s._v$&&((s._v$=i)!=null?r.style.setProperty("--w",i):r.style.removeProperty("--w")),o!==s._v$2&&((s._v$2=o)!=null?r.style.setProperty("--tilesPerAxis",o):r.style.removeProperty("--tilesPerAxis")),s},{_v$:void 0,_v$2:void 0}),r})()}$t(["click"]);const fe=Be.button("relative","appearance-none","px-4 py-2","bg-gray-50","rounded-full","cursor-pointer","select-none","[&:not(:disabled)]:active:translate-y-2","[&:not(:disabled)]:active:[box-shadow:0_0px_0_0_#999999,0_0px_0_0_#99999941]","[&:not(:disabled)]:active:border-transparent","transition-all","duration-150","[box-shadow:0_8px_0_0_#999999,0_13px_0_0_#99999941]","border-2","border-gray-300","focus-within:border-2","focus-within:border-current","disabled:text-gray-300","disabled:cursor-not-allowed"),Tr=W("<select>"),Or=W("<span class=opacity-40>"),Ft=e=>{const[t,n]=Q(""),[r,s]=Se(e,["name","form","disabled","required","autofocus","onChange","onInput","onReset"]);async function i(o){if(!o)return;const a=()=>{var l;n(((l=o.querySelector("option:checked"))==null?void 0:l.textContent)||"")};o.addEventListener("change",a),J(()=>{o.removeEventListener("change",a)}),Promise.resolve().then(a)}return w(fe,oe({as:"label",tabIndex:-1,class:"inline-flex items-center justify-between border-2 border-transparent after:ml-2 after:inline-block after:h-0 after:w-0 after:border-8 after:border-b-0 after:border-transparent after:border-t-current after:align-middle after:content-['']"},e,{get children(){return[(()=>{const o=Tr(),a=i;return typeof a=="function"?Le(a,o):i=o,De(o,oe(r,{id:"level",class:"absolute inset-0 opacity-0"}),!1,!0),z(o,()=>e.children),o})(),w(ge,{get when(){return!!t()},get fallback(){return(()=>{const o=Or();return z(o,()=>e.placeholder),o})()},get children(){return t()}})]}}))},an={items:{center:"items-center",start:"items-start",end:"items-end"},justify:{center:"justify-center",start:"justify-start",end:"justify-end",between:"justify-between",around:"justify-around"},gap:{0:"gap-0",1:"gap-1",2:"gap-2",3:"gap-3",4:"gap-4",5:"gap-5",6:"gap-6"}},et=Be.div("flex flex-col",{variants:{...an}}),Mt=Be.div("flex flex-row",{variants:{...an}}),Dt=W("<span class=opacity-80>"),kr=W('<input type=file class="absolute inset-0 opacity-0">'),Rr=e=>{const[t,n]=Q(null),r=oe({placeholder:"Choose a file…",label:f=>Array.from([...f],u=>u.name).join(", ")},e),[s,i]=Se(r,["name","accept","autofocus","disabled","form","multiple","onChange","onInput","onReset","required","size"]),[,o]=Se(i,["label","value"]);function a(){const f=t(),u=r.label;return typeof u=="function"?f!==null&&[...f].length?u(f):(()=>{const h=Dt();return z(h,()=>r.placeholder),h})():u||(()=>{const h=Dt();return z(h,()=>r.placeholder),h})()}function l(f){if(!f)return;r.defaultValue&&(f.files=r.defaultValue,n(r.defaultValue));const u=()=>{n(f.files)};f.addEventListener("change",u),J(()=>{f.removeEventListener("change",u)})}return w(fe,oe({as:"label"},o,{get children(){return[k(()=>a()),(()=>{const f=kr(),u=l;return typeof u=="function"?Le(u,f):l=f,De(f,s,!1,!1),f})()]}}))},Ir=W("<option value=rotate>Rotate"),jr=W("<option value=slide>Slide"),Nr=W("<option>Difficulty: <!> (<!>x<!>)"),Fr=W('<img alt="Preview of the game theme"class="h-[1em] object-scale-down">'),Dr=W('<span>"<!>"'),Bt={slide:{Easy:2,Regular:3,Hard:4},rotate:{Easy:2,Regular:3,Hard:5,Expert:10}},Br=Be.form("grid flex-1 items-center justify-center");function qr(e){const t=oe({initialSetup:{file:null,level:3,mode:"rotate"}},e),[n,r]=rt({file:t.initialSetup.file,level:t.initialSetup.level,mode:t.initialSetup.mode}),[s,i]=Q(!1);function o(f){r("level",parseInt(f.target.value,10))}function a(){if(!t.initialSetup.file)return null;const f=new DataTransfer;return f.items.add(t.initialSetup.file),f.files}function l(f){f!==null&&f.checkValidity()&&i(!0)}return w(Br,{ref(f){const u=l;typeof u=="function"?u(f):l=f},onChange:f=>{var u;(u=f.target.form)!=null&&u.checkValidity()&&i(!0)},onSubmit:f=>{var u;f.preventDefault(),(u=t.onSubmit)==null||u.call(t,{...n})},get children(){return w(et,{gap:2,get children(){return[w(Er,{get tiles(){return n.level**2}}),w(Pe,{level:"1",children:"It's Picture Puzzle Time"}),w(et,{gap:3,items:"center",get children(){return[w(Ft,{onChange:f=>{r("mode",f.target.value),r("level",Bt[f.target.value].Regular)},name:"mode",required:!0,placeholder:"Mode",get children(){return[(()=>{const f=Ir();return H(()=>f.selected=n.mode==="rotate"),f})(),(()=>{const f=jr();return H(()=>f.selected=n.mode==="slide"),f})()]}}),w(ge,{get when(){return n.mode},keyed:!0,children:f=>w(Ft,{onChange:o,name:"level",required:!0,placeholder:"Difficulty level",get children(){return w(Ye,{get each(){return Object.entries(Bt[f])},children:([u,h])=>(()=>{const g=Nr(),b=g.firstChild,C=b.nextSibling,P=C.nextSibling,A=P.nextSibling,v=A.nextSibling,m=v.nextSibling;return m.nextSibling,g.value=h,z(g,u,C),z(g,h,A),z(g,h,m),H(()=>g.selected=h===n.level),g})()})}})}),w(Rr,{get defaultValue(){return a()},name:"file",accept:"image/*",onChange:f=>{f.target.files&&r("file",f.target.files[0])},required:!0,label:f=>w(Ye,{get each(){return Array.from(f)},children:u=>w(Mt,{gap:2,items:"center",get children(){return[(()=>{const h=Fr();return H(()=>me(h,"src",URL.createObjectURL(u))),h})(),(()=>{const h=Dr(),g=h.firstChild,b=g.nextSibling;return b.nextSibling,z(h,()=>u.name,b),h})()]}})})}),w(fe,{class:"mt-5",type:"submit",get disabled(){return!s()},children:"Start game"})]}})]}})}})}function ln(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Vr([e,t],n,r){return[n?()=>n(e()):e,r?s=>t(r(s)):t]}function Wr(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function cn(e,t){const n=Wr(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function un(e,t,n,r){let s=!1;const i=a=>typeof a=="string"?{value:a}:a,o=Vr(Q(i(e()),{equals:(a,l)=>a.value===l.value}),void 0,a=>(!s&&t(a),a));return n&&J(n((a=e())=>{s=!0,o[1](i(a)),s=!1})),{signal:o,utils:r}}function Ur(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:Q({value:""})};return e}function Hr(){return un(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"",e):window.history.pushState(r,"",e),cn(window.location.hash.slice(1),n)},e=>ln(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}function Gr(){return un(()=>window.location.hash.slice(1),({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"","#"+e):window.location.hash=e;const s=e.indexOf("#"),i=s>=0?e.slice(s+1):"";cn(i,n)},e=>ln(window,"hashchange",()=>e()),{go:e=>window.history.go(e),renderPath:e=>`#${e}`,parsePath:e=>{const t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${t}`}return t}})}function Kr(){let e=new Set;function t(s){return e.add(s),()=>e.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const o={to:s,options:i,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of e)a.listener({...o,from:a.location,retry:l=>{l&&(n=!0),a.navigate(s,i)}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}const zr=/^(?:[a-z0-9]+:)?\/\//i,Xr=/^\/+|(\/)\/+$/g;function ke(e,t=!1){const n=e.replace(Xr,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Ue(e,t,n){if(zr.test(t))return;const r=ke(e),s=n&&ke(n);let i="";return!s||t.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+ke(t,!i)}function Yr(e,t){if(e==null)throw new Error(t);return e}function fn(e,t){return ke(e).replace(/\/*(\*.*)?$/g,"")+ke(t)}function Zr(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function Qr(e,t,n){const[r,s]=e.split("/*",2),i=r.split("/").filter(Boolean),o=i.length;return a=>{const l=a.split("/").filter(Boolean),f=l.length-o;if(f<0||f>0&&s===void 0&&!t)return null;const u={path:o?"":"/",params:{}},h=g=>n===void 0?void 0:n[g];for(let g=0;g<o;g++){const b=i[g],C=l[g],P=b[0]===":",A=P?b.slice(1):b;if(P&&ut(C,h(A)))u.params[A]=C;else if(P||!ut(C,b))return null;u.path+=`/${C}`}if(s){const g=f?l.slice(-f).join("/"):"";if(ut(g,h(s)))u.params[s]=g;else return null}return u}}function ut(e,t){const n=r=>r.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Jr(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function dn(e){const t=new Map,n=Rn();return new Proxy({},{get(r,s){return t.has(s)||In(n,()=>t.set(s,k(()=>e()[s]))),t.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function hn(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const s=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=t[1]),r=r.slice(t[0].length);return hn(r).reduce((i,o)=>[...i,...s.map(a=>a+o)],[])}const es=100,gn=zt(),st=zt(),it=()=>Yr(xt(gn),"Make sure your app is wrapped in a <Router />");let Ne;const mn=()=>Ne||xt(st)||it().base,pn=()=>it().navigatorFactory(),ts=()=>it().location;function ns(e,t="",n){const{component:r,data:s,children:i}=e,o=!i||Array.isArray(i)&&!i.length,a={key:e,element:r?()=>w(r,{}):()=>{const{element:l}=e;return l===void 0&&n?w(n,{}):l},preload:e.component?r.preload:e.preload,data:s};return yn(e.path).reduce((l,f)=>{for(const u of hn(f)){const h=fn(t,u),g=o?h:h.split("/*",1)[0];l.push({...a,originalPath:u,pattern:g,matcher:Qr(g,!o,e.matchFilters)})}return l},[])}function rs(e,t=0){return{routes:e,score:Jr(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let s=e.length-1;s>=0;s--){const i=e[s],o=i.matcher(n);if(!o)return null;r.unshift({...o,route:i})}return r}}}function yn(e){return Array.isArray(e)?e:[e]}function vn(e,t="",n,r=[],s=[]){const i=yn(e);for(let o=0,a=i.length;o<a;o++){const l=i[o];if(l&&typeof l=="object"&&l.hasOwnProperty("path")){const f=ns(l,t,n);for(const u of f){r.push(u);const h=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!h)vn(l.children,u.pattern,n,r,s);else{const g=rs([...r],s.length);s.push(g)}r.pop()}}}return r.length?s:s.sort((o,a)=>a.score-o.score)}function ss(e,t){for(let n=0,r=e.length;n<r;n++){const s=e[n].matcher(t);if(s)return s}return[]}function is(e,t){const n=new URL("http://sar"),r=k(l=>{const f=e();try{return new URL(f,n)}catch{return console.error(`Invalid path ${f}`),l}},n,{equals:(l,f)=>l.href===f.href}),s=k(()=>r().pathname),i=k(()=>r().search,!0),o=k(()=>r().hash),a=k(()=>"");return{get pathname(){return s()},get search(){return i()},get hash(){return o()},get state(){return t()},get key(){return a()},query:dn(Ht(i,()=>Zr(r())))}}function os(e,t="",n,r){const{signal:[s,i],utils:o={}}=Ur(e),a=o.parsePath||(F=>F),l=o.renderPath||(F=>F),f=o.beforeLeave||Kr(),u=Ue("",t),h=void 0;if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!s().value&&i({value:u,replace:!0,scroll:!1});const[g,b]=Q(!1),C=async F=>{b(!0);try{await Kt(F)}finally{b(!1)}},[P,A]=Q(s().value),[v,m]=Q(s().state),p=is(P,v),y=[],x={pattern:u,params:{},path:()=>u,outlet:()=>null,resolvePath(F){return Ue(u,F)}};if(n)try{Ne=x,x.data=n({data:void 0,params:{},location:p,navigate:U(x)})}finally{Ne=void 0}function E(F,j,K){G(()=>{if(typeof j=="number"){j&&(o.go?f.confirm(j,K)&&o.go(j):console.warn("Router integration does not support relative routing"));return}const{replace:Ae,resolve:ve,scroll:ee,state:de}={replace:!1,resolve:!0,scroll:!0,...K},se=ve?F.resolvePath(j):Ue("",j);if(se===void 0)throw new Error(`Path '${j}' is not a routable path`);if(y.length>=es)throw new Error("Too many redirects");const be=P();if((se!==be||de!==v())&&!fr){if(f.confirm(se,K)){const ot=y.push({value:be,replace:Ae,scroll:ee,state:v()});C(()=>{A(se),m(de)}).then(()=>{y.length===ot&&Te({value:se,state:de})})}}})}function U(F){return F=F||xt(st)||x,(j,K)=>E(F,j,K)}function Te(F){const j=y[0];j&&((F.value!==j.value||F.state!==j.state)&&i({...F,replace:j.replace,scroll:j.scroll}),y.length=0)}H(()=>{const{value:F,state:j}=s();G(()=>{F!==P()&&C(()=>{A(F),m(j)})})});{let F=function(j){if(j.defaultPrevented||j.button!==0||j.metaKey||j.altKey||j.ctrlKey||j.shiftKey)return;const K=j.composedPath().find(be=>be instanceof Node&&be.nodeName.toUpperCase()==="A");if(!K||!K.hasAttribute("link"))return;const Ae=K.href;if(K.target||!Ae&&!K.hasAttribute("state"))return;const ve=(K.getAttribute("rel")||"").split(/\s+/);if(K.hasAttribute("download")||ve&&ve.includes("external"))return;const ee=new URL(Ae);if(ee.origin!==window.location.origin||u&&ee.pathname&&!ee.pathname.toLowerCase().startsWith(u.toLowerCase()))return;const de=a(ee.pathname+ee.search+ee.hash),se=K.getAttribute("state");j.preventDefault(),E(x,de,{resolve:!1,replace:K.hasAttribute("replace"),scroll:!K.hasAttribute("noscroll"),state:se&&JSON.parse(se)})};var Ve=F;$t(["click"]),document.addEventListener("click",F),J(()=>document.removeEventListener("click",F))}return{base:x,out:h,location:p,isRouting:g,renderPath:l,parsePath:a,navigatorFactory:U,beforeLeave:f}}function as(e,t,n,r,s){const{base:i,location:o,navigatorFactory:a}=e,{pattern:l,element:f,preload:u,data:h}=r().route,g=k(()=>r().path);u&&u();const b={parent:t,pattern:l,get child(){return n()},path:g,params:s,data:t.data,outlet:f,resolvePath(C){return Ue(i.path(),C,g())}};if(h)try{Ne=b,b.data=h({data:t.data,params:s,location:o,navigate:a(b)})}finally{Ne=void 0}return b}const ls=e=>{const{source:t,url:n,base:r,data:s,out:i}=e,o=t||Hr(),a=os(o,r,s);return w(gn.Provider,{value:a,get children(){return e.children}})},cs=e=>{const t=it(),n=mn(),r=St(()=>e.children),s=k(()=>vn(r(),fn(n.pattern,e.base||""),us)),i=k(()=>ss(s(),t.location.pathname)),o=dn(()=>{const u=i(),h={};for(let g=0;g<u.length;g++)Object.assign(h,u[g].params);return h});t.out&&t.out.matches.push(i().map(({route:u,path:h,params:g})=>({originalPath:u.originalPath,pattern:u.pattern,path:h,params:g})));const a=[];let l;const f=k(Ht(i,(u,h,g)=>{let b=h&&u.length===h.length;const C=[];for(let P=0,A=u.length;P<A;P++){const v=h&&h[P],m=u[P];g&&v&&m.route.key===v.route.key?C[P]=g[P]:(b=!1,a[P]&&a[P](),xe(p=>{a[P]=p,C[P]=as(t,C[P-1]||n,()=>f()[P+1],()=>i()[P],o)}))}return a.splice(u.length).forEach(P=>P()),g&&b?g:(l=C[0],C)}));return w(ge,{get when(){return f()&&l},keyed:!0,children:u=>w(st.Provider,{value:u,get children(){return u.outlet()}})})},ft=e=>{const t=St(()=>e.children);return oe(e,{get children(){return t()}})},us=()=>{const e=mn();return w(ge,{get when(){return e.child},keyed:!0,children:t=>w(st.Provider,{value:t,get children(){return t.outlet()}})})};function fs(e){const t=pn(),n=ts(),{href:r,state:s}=e,i=typeof r=="function"?r({navigate:t,location:n}):r;return t(i,{replace:!0,state:s}),null}var qe={};(function e(t,n,r,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;var d=new OffscreenCanvas(1,1),c=d.getContext("2d");c.fillRect(0,0,1,1);var S=d.transferToImageBitmap();try{c.createPattern(S,"no-repeat")}catch{return!1}return!0}();function l(){}function f(d){var c=n.exports.Promise,S=c!==void 0?c:t.Promise;return typeof S=="function"?new S(d):(d(l,l),null)}var u=function(d,c){return{transform:function(S){if(d)return S;if(c.has(S))return c.get(S);var M=new OffscreenCanvas(S.width,S.height),_=M.getContext("2d");return _.drawImage(S,0,0),c.set(S,M),M},clear:function(){c.clear()}}}(a,new Map),h=function(){var d=Math.floor(16.666666666666668),c,S,M={},_=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(c=function(L){var T=Math.random();return M[T]=requestAnimationFrame(function $(O){_===O||_+d-1<O?(_=O,delete M[T],L()):M[T]=requestAnimationFrame($)}),T},S=function(L){M[L]&&cancelAnimationFrame(M[L])}):(c=function(L){return setTimeout(L,d)},S=function(L){return clearTimeout(L)}),{frame:c,cancel:S}}(),g=function(){var d,c,S={};function M(_){function L(T,$){_.postMessage({options:T||{},callback:$})}_.init=function($){var O=$.transferControlToOffscreen();_.postMessage({canvas:O},[O])},_.fire=function($,O,D){if(c)return L($,null),c;var q=Math.random().toString(36).slice(2);return c=f(function(B){function V(X){X.data.callback===q&&(delete S[q],_.removeEventListener("message",V),c=null,u.clear(),D(),B())}_.addEventListener("message",V),L($,q),S[q]=V.bind(null,{data:{callback:q}})}),c},_.reset=function(){_.postMessage({reset:!0});for(var $ in S)S[$](),delete S[$]}}return function(){if(d)return d;if(!r&&i){var _=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{d=new Worker(URL.createObjectURL(new Blob([_])))}catch(L){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",L),null}M(d)}return d}}(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(d,c){return c?c(d):d}function P(d){return d!=null}function A(d,c,S){return C(d&&P(d[c])?d[c]:b[c],S)}function v(d){return d<0?0:Math.floor(d)}function m(d,c){return Math.floor(Math.random()*(c-d))+d}function p(d){return parseInt(d,16)}function y(d){return d.map(x)}function x(d){var c=String(d).replace(/[^0-9a-f]/gi,"");return c.length<6&&(c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2]),{r:p(c.substring(0,2)),g:p(c.substring(2,4)),b:p(c.substring(4,6))}}function E(d){var c=A(d,"origin",Object);return c.x=A(c,"x",Number),c.y=A(c,"y",Number),c}function U(d){d.width=document.documentElement.clientWidth,d.height=document.documentElement.clientHeight}function Te(d){var c=d.getBoundingClientRect();d.width=c.width,d.height=c.height}function Ve(d){var c=document.createElement("canvas");return c.style.position="fixed",c.style.top="0px",c.style.left="0px",c.style.pointerEvents="none",c.style.zIndex=d,c}function F(d,c,S,M,_,L,T,$,O){d.save(),d.translate(c,S),d.rotate(L),d.scale(M,_),d.arc(0,0,1,T,$,O),d.restore()}function j(d){var c=d.angle*(Math.PI/180),S=d.spread*(Math.PI/180);return{x:d.x,y:d.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:d.startVelocity*.5+Math.random()*d.startVelocity,angle2D:-c+(.5*S-Math.random()*S),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:d.color,shape:d.shape,tick:0,totalTicks:d.ticks,decay:d.decay,drift:d.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:d.gravity*3,ovalScalar:.6,scalar:d.scalar,flat:d.flat}}function K(d,c){c.x+=Math.cos(c.angle2D)*c.velocity+c.drift,c.y+=Math.sin(c.angle2D)*c.velocity+c.gravity,c.velocity*=c.decay,c.flat?(c.wobble=0,c.wobbleX=c.x+10*c.scalar,c.wobbleY=c.y+10*c.scalar,c.tiltSin=0,c.tiltCos=0,c.random=1):(c.wobble+=c.wobbleSpeed,c.wobbleX=c.x+10*c.scalar*Math.cos(c.wobble),c.wobbleY=c.y+10*c.scalar*Math.sin(c.wobble),c.tiltAngle+=.1,c.tiltSin=Math.sin(c.tiltAngle),c.tiltCos=Math.cos(c.tiltAngle),c.random=Math.random()+2);var S=c.tick++/c.totalTicks,M=c.x+c.random*c.tiltCos,_=c.y+c.random*c.tiltSin,L=c.wobbleX+c.random*c.tiltCos,T=c.wobbleY+c.random*c.tiltSin;if(d.fillStyle="rgba("+c.color.r+", "+c.color.g+", "+c.color.b+", "+(1-S)+")",d.beginPath(),o&&c.shape.type==="path"&&typeof c.shape.path=="string"&&Array.isArray(c.shape.matrix))d.fill(se(c.shape.path,c.shape.matrix,c.x,c.y,Math.abs(L-M)*.1,Math.abs(T-_)*.1,Math.PI/10*c.wobble));else if(c.shape.type==="bitmap"){var $=Math.PI/10*c.wobble,O=Math.abs(L-M)*.1,D=Math.abs(T-_)*.1,q=c.shape.bitmap.width*c.scalar,B=c.shape.bitmap.height*c.scalar,V=new DOMMatrix([Math.cos($)*O,Math.sin($)*O,-Math.sin($)*D,Math.cos($)*D,c.x,c.y]);V.multiplySelf(new DOMMatrix(c.shape.matrix));var X=d.createPattern(u.transform(c.shape.bitmap),"no-repeat");X.setTransform(V),d.globalAlpha=1-S,d.fillStyle=X,d.fillRect(c.x-q/2,c.y-B/2,q,B),d.globalAlpha=1}else if(c.shape==="circle")d.ellipse?d.ellipse(c.x,c.y,Math.abs(L-M)*c.ovalScalar,Math.abs(T-_)*c.ovalScalar,Math.PI/10*c.wobble,0,2*Math.PI):F(d,c.x,c.y,Math.abs(L-M)*c.ovalScalar,Math.abs(T-_)*c.ovalScalar,Math.PI/10*c.wobble,0,2*Math.PI);else if(c.shape==="star")for(var R=Math.PI/2*3,Z=4*c.scalar,te=8*c.scalar,ne=c.x,ae=c.y,we=5,ie=Math.PI/we;we--;)ne=c.x+Math.cos(R)*te,ae=c.y+Math.sin(R)*te,d.lineTo(ne,ae),R+=ie,ne=c.x+Math.cos(R)*Z,ae=c.y+Math.sin(R)*Z,d.lineTo(ne,ae),R+=ie;else d.moveTo(Math.floor(c.x),Math.floor(c.y)),d.lineTo(Math.floor(c.wobbleX),Math.floor(_)),d.lineTo(Math.floor(L),Math.floor(T)),d.lineTo(Math.floor(M),Math.floor(c.wobbleY));return d.closePath(),d.fill(),c.tick<c.totalTicks}function Ae(d,c,S,M,_){var L=c.slice(),T=d.getContext("2d"),$,O,D=f(function(q){function B(){$=O=null,T.clearRect(0,0,M.width,M.height),u.clear(),_(),q()}function V(){r&&!(M.width===s.width&&M.height===s.height)&&(M.width=d.width=s.width,M.height=d.height=s.height),!M.width&&!M.height&&(S(d),M.width=d.width,M.height=d.height),T.clearRect(0,0,M.width,M.height),L=L.filter(function(X){return K(T,X)}),L.length?$=h.frame(V):B()}$=h.frame(V),O=B});return{addFettis:function(q){return L=L.concat(q),D},canvas:d,promise:D,reset:function(){$&&h.cancel($),O&&O()}}}function ve(d,c){var S=!d,M=!!A(c||{},"resize"),_=!1,L=A(c,"disableForReducedMotion",Boolean),T=i&&!!A(c||{},"useWorker"),$=T?g():null,O=S?U:Te,D=d&&$?!!d.__confetti_initialized:!1,q=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,B;function V(R,Z,te){for(var ne=A(R,"particleCount",v),ae=A(R,"angle",Number),we=A(R,"spread",Number),ie=A(R,"startVelocity",Number),xn=A(R,"decay",Number),Sn=A(R,"gravity",Number),Pn=A(R,"drift",Number),_t=A(R,"colors",y),An=A(R,"ticks",Number),Lt=A(R,"shapes"),$n=A(R,"scalar"),Mn=!!A(R,"flat"),Et=E(R),Tt=ne,at=[],Cn=d.width*Et.x,_n=d.height*Et.y;Tt--;)at.push(j({x:Cn,y:_n,angle:ae,spread:we,startVelocity:ie,color:_t[Tt%_t.length],shape:Lt[m(0,Lt.length)],ticks:An,decay:xn,gravity:Sn,drift:Pn,scalar:$n,flat:Mn}));return B?B.addFettis(at):(B=Ae(d,at,O,Z,te),B.promise)}function X(R){var Z=L||A(R,"disableForReducedMotion",Boolean),te=A(R,"zIndex",Number);if(Z&&q)return f(function(ie){ie()});S&&B?d=B.canvas:S&&!d&&(d=Ve(te),document.body.appendChild(d)),M&&!D&&O(d);var ne={width:d.width,height:d.height};$&&!D&&$.init(d),D=!0,$&&(d.__confetti_initialized=!0);function ae(){if($){var ie={getBoundingClientRect:function(){if(!S)return d.getBoundingClientRect()}};O(ie),$.postMessage({resize:{width:ie.width,height:ie.height}});return}ne.width=ne.height=null}function we(){B=null,M&&(_=!1,t.removeEventListener("resize",ae)),S&&d&&(document.body.removeChild(d),d=null,D=!1)}return M&&!_&&(_=!0,t.addEventListener("resize",ae,!1)),$?$.fire(R,ne,we):V(R,ne,we)}return X.reset=function(){$&&$.reset(),B&&B.reset()},X}var ee;function de(){return ee||(ee=ve(null,{useWorker:!0,resize:!0})),ee}function se(d,c,S,M,_,L,T){var $=new Path2D(d),O=new Path2D;O.addPath($,new DOMMatrix(c));var D=new Path2D;return D.addPath(O,new DOMMatrix([Math.cos(T)*_,Math.sin(T)*_,-Math.sin(T)*L,Math.cos(T)*L,S,M])),D}function be(d){if(!o)throw new Error("path confetti are not supported in this browser");var c,S;typeof d=="string"?c=d:(c=d.path,S=d.matrix);var M=new Path2D(c),_=document.createElement("canvas"),L=_.getContext("2d");if(!S){for(var T=1e3,$=T,O=T,D=0,q=0,B,V,X=0;X<T;X+=2)for(var R=0;R<T;R+=2)L.isPointInPath(M,X,R,"nonzero")&&($=Math.min($,X),O=Math.min(O,R),D=Math.max(D,X),q=Math.max(q,R));B=D-$,V=q-O;var Z=10,te=Math.min(Z/B,Z/V);S=[te,0,0,te,-Math.round(B/2+$)*te,-Math.round(V/2+O)*te]}return{type:"path",path:c,matrix:S}}function ot(d){var c,S=1,M="#000000",_='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof d=="string"?c=d:(c=d.text,S="scalar"in d?d.scalar:S,_="fontFamily"in d?d.fontFamily:_,M="color"in d?d.color:M);var L=10*S,T=""+L+"px "+_,$=new OffscreenCanvas(L,L),O=$.getContext("2d");O.font=T;var D=O.measureText(c),q=Math.ceil(D.actualBoundingBoxRight+D.actualBoundingBoxLeft),B=Math.ceil(D.actualBoundingBoxAscent+D.actualBoundingBoxDescent),V=2,X=D.actualBoundingBoxLeft+V,R=D.actualBoundingBoxAscent+V;q+=V+V,B+=V+V,$=new OffscreenCanvas(q,B),O=$.getContext("2d"),O.font=T,O.fillStyle=M,O.fillText(c,X,R);var Z=1/S;return{type:"bitmap",bitmap:$.transferToImageBitmap(),matrix:[Z,0,0,Z,-q*Z/2,-B*Z/2]}}n.exports=function(){return de().apply(this,arguments)},n.exports.reset=function(){de().reset()},n.exports.create=ve,n.exports.shapeFromPath=be,n.exports.shapeFromText=ot})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),qe,!1);const Ce=qe.exports;qe.exports.create;const ds=W("<img hidden>"),hs=W('<div class="flex flex-1 flex-col items-center justify-center overflow-hidden"><div class="grid aspect-square items-center justify-center overflow-hidden transition-[height]">'),gs=W('<div class="absolute inset-0 grid h-full w-full animate-[1s_fade-in_500ms] place-content-center font-bold opacity-0 backdrop-blur-lg"><div><img class="m-auto w-1/2 animate-[1s_animate-pop_500ms] shadow-xl">'),ms=W('<div class="grid h-full place-content-center">Loading...'),ps=W('<button type=button class="box-content aspect-square appearance-none border bg-no-repeat transition-[transform,shadow] duration-300">'),ys=e=>{const t=k(()=>{const m=e.tiles||9,p=Math.sqrt(m);return{rows:p,cols:p,tiles:m}}),[n,r]=rt({tiles:[],containerSide:0,start:new Date,current:new Date});ce(()=>{r("tiles",Array.from({length:t().rows*t().cols},()=>Math.floor(Math.random()*4)))});const s=setInterval(()=>r("current",new Date),1e3);J(()=>clearInterval(s)),ce(()=>{a()&&clearInterval(s)});let i,o=null;const a=k(()=>n.tiles.every(m=>Math.abs(m)%4===0)),l=k(()=>{const{naturalWidth:m,naturalHeight:p}=o||{naturalWidth:0,naturalHeight:0},y=n.containerSide;let x,E,U;return m>p?(x=m/p,E=y,U=y*x):(x=p/m,U=y,E=y*x),{bgWidth:U,bgHeight:E,offsetX:(U-y)/2,offsetY:(E-y)/2}});let f;const u=()=>{clearTimeout(f),f=setTimeout(()=>{const{width:m,height:p}=i.parentElement.getBoundingClientRect();r("containerSide",Math.min(m,p)),Promise.resolve().then(()=>i==null?void 0:i.classList.add("animate-[animate-pop_1s]"))},100)};Gt(()=>{window.addEventListener("resize",u),screen.orientation.addEventListener("change",u),J(()=>{screen.orientation.removeEventListener("change",u),window.removeEventListener("resize",u)})});function h(m,p){const y=p%t().cols,x=Math.floor(p/t().rows),{bgWidth:E,bgHeight:U,offsetX:Te,offsetY:Ve}=l();return{"background-image":"var(--bg)","background-size":`${E}px ${U}px`,"background-position":`left ${y*-(n.containerSide/t().cols)-Te}px top ${x*-Math.floor(n.containerSide/t().rows)-Ve}px`,transform:`${a()?"":"scale(0.75)"} rotate(calc(90deg * ${m}))`,"-webkit-tap-highlight-color":"transparent"}}function g(m,p){r("tiles",m,y=>y+p)}let b;function C(){let m=0;clearInterval(b),b=setInterval(()=>{for(;Math.abs(n.tiles[m])%4===0;)m=(m+1)%n.tiles.length;const p=n.tiles[m]%4;g(m,Math.abs(p)>2?1:-1),a()&&clearInterval(b)},Math.min(1e3,3e3/n.tiles.reduce((p,y)=>p+Math.abs(y%4),0)))}let P,A;ce(()=>{if(!a())return;const m=Date.now()+1e3;function p(){Ce({particleCount:2,angle:60,spread:55,origin:{x:0}}),Ce({particleCount:2,angle:120,spread:55,origin:{x:1}}),Date.now()<m&&(P=requestAnimationFrame(p))}A=setTimeout(p,500)}),J(()=>{cancelAnimationFrame(P),Ce.reset(),clearInterval(b),clearTimeout(A)});const v=new Intl.DateTimeFormat("en",{minute:"numeric",second:"numeric"});return w(et,{class:"flex-1",get children(){return[(()=>{const m=ds();return m.addEventListener("load",u),Le(p=>{o=p},m),H(()=>me(m,"src",e.image)),m})(),w(ge,{when:o,get fallback(){return ms()},get children(){return[w(Mt,{gap:5,class:"m-3",items:"center",justify:"center",get children(){return[w(fe,{get onClick(){return e.onReset},children:"← Back"}),w(Pe,{level:3,get children(){return v.format(new Date(n.current.getTime()-n.start.getTime()))}}),w(fe,{onClick:C,children:"Solve"})]}}),(()=>{const m=hs(),p=m.firstChild;return Le(y=>{i=y},p),z(p,w(Kn,{get each(){return n.tiles},children:(y,x)=>(()=>{const E=ps();return De(E,oe({get disabled(){return!!a()},get classList(){return{"border-transparent":a(),"shadow-xl":!a()}},get style(){return h(y(),x)}},()=>({["ontouchstart"in window?"onTouchStart":"onClick"]:U=>{U.preventDefault(),g(x,U.shiftKey?-1:1)}})),!1,!1),E})()})),H(y=>{const x=`${n.containerSide}px`,E=`url(${e.image})`,U=`repeat(${t().cols}, minmax(0, 1fr))`;return x!==y._v$&&((y._v$=x)!=null?p.style.setProperty("height",x):p.style.removeProperty("height")),E!==y._v$2&&((y._v$2=E)!=null?p.style.setProperty("--bg",E):p.style.removeProperty("--bg")),U!==y._v$3&&((y._v$3=U)!=null?p.style.setProperty("grid-template-columns",U):p.style.removeProperty("grid-template-columns")),y},{_v$:void 0,_v$2:void 0,_v$3:void 0}),m})()]}}),w(ge,{get when(){return a()},get children(){const m=gs(),p=m.firstChild,y=p.firstChild;return m.style.setProperty("animation-fill-mode","forwards"),z(p,w(Pe,{level:2,children:"You Won!"}),null),z(p,w(Pe,{level:4,get children(){return`Time ellapsed: ${v.format(new Date(n.current.getTime()-n.start.getTime()))}`}}),null),z(p,w(fe,{class:"m-auto block text-xl font-normal",onClick:()=>e.onReset(),children:"Play Again"}),null),H(()=>me(y,"src",e.image)),m}})]}})};var qt=()=>{};function vs(e,t){const n=G(e),{onChange:r}=t;let s=new Set(t.appear?void 0:n);const i=new WeakSet,[o,a]=Q([],{equals:!1}),[l]=Nn(),f=t.exitMethod==="remove"?qt:h=>{a(g=>(g.push.apply(g,h),g));for(const g of h)i.delete(g)},u=t.exitMethod==="remove"?qt:t.exitMethod==="keep-index"?(h,g,b)=>h.splice(b,0,g):(h,g)=>h.push(g);return k(h=>{const g=o(),b=e();if(b[Re],G(l))return l(),h;if(g.length){const C=h.filter(P=>!g.includes(P));return g.length=0,r({list:C,added:[],removed:[],unchanged:C,finishRemoved:f}),C}return G(()=>{const C=new Set(b),P=b.slice(),A=[],v=[],m=[];for(const y of b)(s.has(y)?m:A).push(y);let p=!A.length;for(let y=0;y<h.length;y++){const x=h[y];C.has(x)||(i.has(x)||(v.push(x),i.add(x)),u(P,x,y)),p&&x!==P[y]&&(p=!1)}return!v.length&&p?h:(r({list:P,added:A,removed:v,unchanged:m,finishRemoved:f}),s=C,P)})},t.appear?[]:n.slice())}var Vt=e=>e instanceof Element;function bt(e,t){if(t(e))return e;if(typeof e=="function"&&!e.length)return bt(e(),t);if(Array.isArray(e)){const n=[];for(const r of e){const s=bt(r,t);s&&(Array.isArray(s)?n.push.apply(n,s):n.push(s))}return n.length?n:null}return null}function bs(e,t=Vt,n=Vt){const r=k(e),s=k(()=>bt(r(),t));return s.toArray=()=>{const i=s();return Array.isArray(i)?i:i?[i]:[]},s}function ws(e){return k(()=>{const t=e.name||"s";return{enterActive:(e.enterActiveClass||t+"-enter-active").split(" "),enter:(e.enterClass||t+"-enter").split(" "),enterTo:(e.enterToClass||t+"-enter-to").split(" "),exitActive:(e.exitActiveClass||t+"-exit-active").split(" "),exit:(e.exitClass||t+"-exit").split(" "),exitTo:(e.exitToClass||t+"-exit-to").split(" "),move:(e.moveClass||t+"-move").split(" ")}})}function bn(e){requestAnimationFrame(()=>requestAnimationFrame(e))}function xs(e,t,n,r){const{onBeforeEnter:s,onEnter:i,onAfterEnter:o}=t;s==null||s(n),n.classList.add(...e.enter),n.classList.add(...e.enterActive),queueMicrotask(()=>{if(!n.parentNode)return r==null?void 0:r();i==null||i(n,()=>a())}),bn(()=>{n.classList.remove(...e.enter),n.classList.add(...e.enterTo),(!i||i.length<2)&&(n.addEventListener("transitionend",a),n.addEventListener("animationend",a))});function a(l){(!l||l.target===n)&&(r==null||r(),n.removeEventListener("transitionend",a),n.removeEventListener("animationend",a),n.classList.remove(...e.enterActive),n.classList.remove(...e.enterTo),o==null||o(n))}}function Ss(e,t,n,r){const{onBeforeExit:s,onExit:i,onAfterExit:o}=t;if(!n.parentNode)return r==null?void 0:r();s==null||s(n),n.classList.add(...e.exit),n.classList.add(...e.exitActive),i==null||i(n,()=>a()),bn(()=>{n.classList.remove(...e.exit),n.classList.add(...e.exitTo),(!i||i.length<2)&&(n.addEventListener("transitionend",a),n.addEventListener("animationend",a))});function a(l){(!l||l.target===n)&&(r==null||r(),n.removeEventListener("transitionend",a),n.removeEventListener("animationend",a),n.classList.remove(...e.exitActive),n.classList.remove(...e.exitTo),o==null||o(n))}}var Ps=e=>{const t=ws(e);return vs(bs(()=>e.children).toArray,{appear:e.appear,exitMethod:"keep-index",onChange({added:n,removed:r,finishRemoved:s,list:i}){const o=t();for(const l of n)xs(o,e,l);const a=[];for(const l of i)l.isConnected&&(l instanceof HTMLElement||l instanceof SVGElement)&&a.push({el:l,rect:l.getBoundingClientRect()});queueMicrotask(()=>{const l=[];for(const{el:f,rect:u}of a)if(f.isConnected){const h=f.getBoundingClientRect(),g=u.left-h.left,b=u.top-h.top;(g||b)&&(f.style.transform=`translate(${g}px, ${b}px)`,f.style.transitionDuration="0s",l.push(f))}document.body.offsetHeight;for(const f of l){let u=function(h){(h.target===f||/transform$/.test(h.propertyName))&&(f.removeEventListener("transitionend",u),f.classList.remove(...o.move))};f.classList.add(...o.move),f.style.transform=f.style.transitionDuration="",f.addEventListener("transitionend",u)}});for(const l of r)Ss(o,e,l,()=>s([l]))}})};class As{constructor(t=[],n=$s){if(this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:n,compare:r}=this,s=n[t];for(;t>0;){const i=t-1>>1,o=n[i];if(r(s,o)>=0)break;n[t]=o,t=i}n[t]=s}_down(t){const{data:n,compare:r}=this,s=this.length>>1,i=n[t];for(;t<s;){let o=(t<<1)+1,a=n[o];const l=o+1;if(l<this.length&&r(n[l],a)<0&&(o=l,a=n[l]),r(a,i)>=0)break;n[t]=a,t=o}n[t]=i}}function $s(e,t){return e<t?-1:e>t?1:0}const _e=(e,t)=>[e%t,Math.floor(e/t)],wn=(e,t,n)=>([e[t],e[n]]=[e[n],e[t]],e),wt=e=>e.reduce((t,n,r)=>n===r||n===e.length?t:t+1,0),Ms=(e,t)=>{const[n,r]=_e(e,t),s=[];return n>0&&s.push(e-1),r>0&&s.push(e-t),n<t-1&&s.push(e+1),r<t-1&&s.push(e+t),s};function Cs(e){const t=Math.sqrt(e.length);return e.reduce((n,r,s)=>{const[i,o]=_e(r,t),[a,l]=_e(s,t);return n+Math.abs(i-a)+Math.abs(o-l)},0)}class Ct{constructor(t,n,r){he(this,"previous");he(this,"action");he(this,"state");he(this,"g");he(this,"h");he(this,"score");he(this,"cols");this.state=t,this.previous=n,this.action=r,this.cols=(n==null?void 0:n.cols)??Math.sqrt(t.length),this.g=n?n.g+1:0,this.h=Cs(t),this.score=this.g+this.h}*computeAvailableMovements(){const t=this.state.length-1,n=this.state.indexOf(t);for(const r of Ms(n,this.cols)){const s=wn([...this.state],n,r);yield new Ct(s,this,r)}}get availableMovements(){return this.computeAvailableMovements()}get path(){const t=[];for(let n=this;n.previous;n=n.previous)t.unshift(n.action);return t}get misplacedCount(){return wt(this.state)}toString(){return this.state.toString()}}function _s(e){const t=new As([new Ct(e)],(r,s)=>r.score-s.score),n=new Set([t.peek().toString()]);for(;t.length>0;){const r=t.pop();if(r.misplacedCount===0)return r.path;for(const s of r.availableMovements)n.has(s.toString())||(n.add(s.toString()),t.push(s))}return null}function Ls(e){let t=0;for(let n=0;n<e.length;n++){if(e[n]===e.length-1)continue;const r=e[n];for(let s=n+1;s<e.length;s++)e[s]!==e.length-1&&r>e[s]&&t++}return t}function Es(e){const t=Math.sqrt(e.length),n=Ls(e);return t%2===1?n%2===0:(t-Math.floor(e.indexOf(e.length-1)/t))%2===0?n%2===1:n%2===0}const Ts=W("<img hidden>"),Os=W('<div class="flex flex-1 flex-col items-center justify-center overflow-hidden"><div class="grid aspect-square items-center justify-center overflow-hidden transition-[height]">'),ks=W('<div class="absolute inset-0 grid h-full w-full animate-[1s_fade-in_500ms] place-content-center font-bold opacity-0 backdrop-blur-lg"><div><img class="m-auto w-1/2 animate-[1s_animate-pop_500ms] shadow-xl">'),Rs=W('<div class="grid h-full place-content-center">Loading...'),Is=W('<button type=button class="box-content aspect-square appearance-none border bg-no-repeat transition-[transform,shadow] duration-300">'),js=e=>{const t=k(()=>{const v=e.tiles||9,m=Math.sqrt(v);return{rows:m,cols:m,tiles:v}}),[n,r]=rt({tiles:[],containerSide:0,start:new Date,current:new Date,emptySlot:0,solving:!1,solutionLength:null});ce(()=>{let v;do v=Array.from({length:t().rows*t().cols},(m,p)=>p).sort(()=>Math.random()-.5);while(wt(v)<v.length||!Es(v));r("tiles",v),r("emptySlot",v.length-1)});const s=setInterval(()=>r("current",new Date),1e3);J(()=>clearInterval(s)),ce(()=>{a()&&clearInterval(s)});let i,o=null;const a=k(()=>wt(n.tiles)===0),l=k(()=>{const{naturalWidth:v,naturalHeight:m}=o||{naturalWidth:0,naturalHeight:0},p=n.containerSide;let y,x,E;return v>m?(y=v/m,x=p,E=p*y):(y=m/v,E=p,x=p*y),{bgWidth:E,bgHeight:x,offsetX:(E-p)/2,offsetY:(x-p)/2}});let f;const u=()=>{clearTimeout(f),f=setTimeout(()=>{const{width:v,height:m}=i.parentElement.getBoundingClientRect();r("containerSide",Math.min(v,m)),Promise.resolve().then(()=>i==null?void 0:i.classList.add("animate-[animate-pop_1s]"))},100)};Gt(()=>{window.addEventListener("resize",u),screen.orientation.addEventListener("change",u),J(()=>{screen.orientation.removeEventListener("change",u),window.removeEventListener("resize",u)})});function h(v){const[m,p]=_e(v,t().cols),{bgWidth:y,bgHeight:x,offsetX:E,offsetY:U}=l();return{"background-image":"var(--bg)","background-size":`${y}px ${x}px`,"background-position":`left ${m*-(n.containerSide/t().cols)-E}px top ${p*-Math.floor(n.containerSide/t().rows)-U}px`,"-webkit-tap-highlight-color":"transparent"}}function g(v){const m=n.tiles.indexOf(n.emptySlot),[p,y]=_e(m,t().cols),[x,E]=_e(v,t().cols);switch(!0){case p===x:if(Math.abs(y-E)!==1)return;break;case y===E:if(Math.abs(p-x)!==1)return;break;default:return!0}r("tiles",wn(n.tiles.slice(0),m,v))}let b;ce(()=>{if(!n.solving){clearInterval(b);return}G(()=>{const v=_s(n.tiles);if(!v){r("solving",!1);return}r("solutionLength",v.length),clearInterval(b),b=setInterval(()=>{v.length&&g(v.shift()),r("solutionLength",v.length),v.length||r("solving",!1)},Math.min(1e3,3e3/n.tiles.reduce((m,p)=>m+Math.abs(p%4),0)))})});let C,P;ce(()=>{if(!a())return;const v=Date.now()+1e3;function m(){Ce({particleCount:2,angle:60,spread:55,origin:{x:0}}),Ce({particleCount:2,angle:120,spread:55,origin:{x:1}}),Date.now()<v&&(C=requestAnimationFrame(m))}P=setTimeout(m,500)}),J(()=>{cancelAnimationFrame(C),Ce.reset(),clearInterval(b),clearTimeout(P)});const A=new Intl.DateTimeFormat("en",{minute:"numeric",second:"numeric"});return w(et,{class:"flex-1",get children(){return[(()=>{const v=Ts();return v.addEventListener("load",u),Le(m=>{o=m},v),H(()=>me(v,"src",e.image)),v})(),w(ge,{when:o,get fallback(){return Rs()},get children(){return[w(Mt,{gap:5,class:"m-3",items:"center",justify:"center",get children(){return[w(fe,{get onClick(){return e.onReset},children:"← Back"}),w(Pe,{level:3,get children(){return A.format(new Date(n.current.getTime()-n.start.getTime()))}}),w(fe,{onClick:()=>r("solving",v=>!v),get children(){return n.solving?`Solving... (${n.solutionLength} movements to go)`:"Solve"}})]}}),(()=>{const v=Os(),m=v.firstChild;return Le(p=>{i=p},m),z(m,w(Ps,{name:"slide",get children(){return w(Ye,{get each(){return n.tiles},children:(p,y)=>(()=>{const x=Is();return De(x,oe({get disabled(){return!!a()},get classList(){return{"border-transparent":a(),"shadow-xl":!a(),"opacity-0":p===n.emptySlot}},get style(){return h(p)}},()=>({["ontouchstart"in window?"onTouchStart":"onClick"]:E=>{E.preventDefault(),g(y())}})),!1,!1),x})()})}})),H(p=>{const y=`${n.containerSide}px`,x=`url(${e.image})`,E=`repeat(${t().cols}, minmax(0, 1fr))`;return y!==p._v$&&((p._v$=y)!=null?m.style.setProperty("height",y):m.style.removeProperty("height")),x!==p._v$2&&((p._v$2=x)!=null?m.style.setProperty("--bg",x):m.style.removeProperty("--bg")),E!==p._v$3&&((p._v$3=E)!=null?m.style.setProperty("grid-template-columns",E):m.style.removeProperty("grid-template-columns")),p},{_v$:void 0,_v$2:void 0,_v$3:void 0}),v})()]}}),w(ge,{get when(){return a()},get children(){const v=ks(),m=v.firstChild,p=m.firstChild;return v.style.setProperty("animation-fill-mode","forwards"),z(m,w(Pe,{level:2,children:"You Won!"}),null),z(m,w(Pe,{level:4,get children(){return`Time ellapsed: ${A.format(new Date(n.current.getTime()-n.start.getTime()))}`}}),null),z(m,w(fe,{class:"m-auto block text-xl font-normal",onClick:()=>e.onReset(),children:"Play Again"}),null),H(()=>me(p,"src",e.image)),v}})]}})};function Ns(){const e=pn(),[t,n]=rt({mode:"rotate",file:null,level:3});return w(cs,{get children(){return[w(ft,{path:"/setup",component:()=>w(qr,{initialSetup:t,onSubmit:r=>{n(r),e(`/${r.mode}`)}})}),k(()=>k(()=>!!t.file)()&&[w(ft,{path:"/rotate",component:()=>w(ys,{get tiles(){return t.level**2},get image(){return URL.createObjectURL(t.file)},onReset:()=>{e("/setup")}})}),w(ft,{path:"/slide",component:()=>w(js,{get tiles(){return t.level**2},get image(){return URL.createObjectURL(t.file)},onReset:()=>{e("/setup")}})})]),w(fs,{href:"/setup"})]}})}const Fs=document.getElementById("root");sr(()=>w(ls,{get source(){return Gr()},get children(){return w(Ns,{})}}),Fs)});export default Ds();
