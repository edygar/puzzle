var Mn=Object.defineProperty;var An=(e,t,n)=>t in e?Mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var he=(e,t,n)=>(An(e,typeof t!="symbol"?t+"":t,n),n);var _s=Cn((Os,Ve)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const _n=(e,t)=>e===t,re=Symbol("solid-proxy"),He=Symbol("solid-track"),Ke={equals:_n};let Vt=Gt;const pe=1,ze=2,qt={owned:null,cleanups:null,context:null,owner:null};var R=null;let lt=null,N=null,X=null,ue=null,nt=0;function Se(e,t){const n=N,r=R,s=e.length===0,o=t===void 0?r:t,i=s?qt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=s?e:()=>e(()=>Y(()=>rt(i)));R=i,N=null;try{return ye(a,!0)}finally{N=n,R=r}}function ee(e,t){t=t?Object.assign({},Ke,t):Ke;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),zt(n,s));return[Kt.bind(n),r]}function H(e,t,n){const r=xt(e,t,!1,pe);Ne(r)}function ce(e,t,n){Vt=In;const r=xt(e,t,!1,pe);(!n||!n.render)&&(r.user=!0),ue?ue.push(r):Ne(r)}function I(e,t,n){n=n?Object.assign({},Ke,n):Ke;const r=xt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ne(r),Kt.bind(r)}function En(e){return ye(e,!1)}function Y(e){if(N===null)return e();const t=N;N=null;try{return e()}finally{N=t}}function Wt(e,t,n){const r=Array.isArray(e);let s,o=n&&n.defer;return i=>{let a;if(r){a=Array(e.length);for(let f=0;f<e.length;f++)a[f]=e[f]()}else a=e();if(o){o=!1;return}const c=Y(()=>t(a,s,i));return s=a,c}}function Ut(e){ce(()=>Y(e))}function Q(e){return R===null||(R.cleanups===null?R.cleanups=[e]:R.cleanups.push(e)),e}function dt(){return N}function On(){return R}function Tn(e,t){const n=R,r=N;R=e,N=null;try{return ye(t,!0)}catch(s){Pt(s)}finally{R=n,N=r}}function Ln(e){const t=N,n=R;return Promise.resolve().then(()=>{N=t,R=n;let r;return ye(e,!1),N=R=null,r?r.done:void 0})}function Ht(e,t){const n=Symbol("context");return{id:n,Provider:Nn(n),defaultValue:e}}function wt(e){return R&&R.context&&R.context[e.id]!==void 0?R.context[e.id]:e.defaultValue}function St(e){const t=I(e),n=I(()=>ht(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Kt(){if(this.sources&&this.state)if(this.state===pe)Ne(this);else{const e=X;X=null,ye(()=>Xe(this),!1),X=e}if(N){const e=this.observers?this.observers.length:0;N.sources?(N.sources.push(this),N.sourceSlots.push(e)):(N.sources=[this],N.sourceSlots=[e]),this.observers?(this.observers.push(N),this.observerSlots.push(N.sources.length-1)):(this.observers=[N],this.observerSlots=[N.sources.length-1])}return this.value}function zt(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ye(()=>{for(let s=0;s<e.observers.length;s+=1){const o=e.observers[s],i=lt&&lt.running;i&&lt.disposed.has(o),(i?!o.tState:!o.state)&&(o.pure?X.push(o):ue.push(o),o.observers&&Xt(o)),i||(o.state=pe)}if(X.length>1e6)throw X=[],new Error},!1)),t}function Ne(e){if(!e.fn)return;rt(e);const t=nt;kn(e,e.value,t)}function kn(e,t,n){let r;const s=R,o=N;N=R=e;try{r=e.fn(t)}catch(i){return e.pure&&(e.state=pe,e.owned&&e.owned.forEach(rt),e.owned=null),e.updatedAt=n+1,Pt(i)}finally{N=o,R=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?zt(e,r):e.value=r,e.updatedAt=n)}function xt(e,t,n,r=pe,s){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:R,context:R?R.context:null,pure:n};return R===null||R!==qt&&(R.owned?R.owned.push(o):R.owned=[o]),o}function Ge(e){if(e.state===0)return;if(e.state===ze)return Xe(e);if(e.suspense&&Y(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<nt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===pe)Ne(e);else if(e.state===ze){const r=X;X=null,ye(()=>Xe(e,t[0]),!1),X=r}}function ye(e,t){if(X)return e();let n=!1;t||(X=[]),ue?n=!0:ue=[],nt++;try{const r=e();return Rn(n),r}catch(r){n||(ue=null),X=null,Pt(r)}}function Rn(e){if(X&&(Gt(X),X=null),e)return;const t=ue;ue=null,t.length&&ye(()=>Vt(t),!1)}function Gt(e){for(let t=0;t<e.length;t++)Ge(e[t])}function In(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Ge(r)}for(t=0;t<n;t++)Ge(e[t])}function Xe(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const s=r.state;s===pe?r!==t&&(!r.updatedAt||r.updatedAt<nt)&&Ge(r):s===ze&&Xe(r,t)}}}function Xt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=ze,n.pure?X.push(n):ue.push(n),n.observers&&Xt(n))}}function rt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const o=s.pop(),i=n.observerSlots.pop();r<s.length&&(o.sourceSlots[i]=r,s[r]=o,n.observerSlots[r]=i)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)rt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function jn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Pt(e,t=R){throw jn(e)}function ht(e){if(typeof e=="function"&&!e.length)return ht(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=ht(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Nn(e,t){return function(r){let s;return H(()=>s=Y(()=>(R.context={...R.context,[e]:r.value},St(()=>r.children))),void 0),s}}const gt=Symbol("fallback");function Ye(e){for(let t=0;t<e.length;t++)e[t]()}function Fn(e,t,n={}){let r=[],s=[],o=[],i=0,a=t.length>1?[]:null;return Q(()=>Ye(o)),()=>{let c=e()||[],f,u;return c[He],Y(()=>{let p=c.length,S,L,A,M,y,g,m,b,P;if(p===0)i!==0&&(Ye(o),o=[],r=[],s=[],i=0,a&&(a=[])),n.fallback&&(r=[gt],s[0]=Se(E=>(o[0]=E,n.fallback())),i=1);else if(i===0){for(s=new Array(p),u=0;u<p;u++)r[u]=c[u],s[u]=Se(h);i=p}else{for(A=new Array(p),M=new Array(p),a&&(y=new Array(p)),g=0,m=Math.min(i,p);g<m&&r[g]===c[g];g++);for(m=i-1,b=p-1;m>=g&&b>=g&&r[m]===c[b];m--,b--)A[b]=s[m],M[b]=o[m],a&&(y[b]=a[m]);for(S=new Map,L=new Array(b+1),u=b;u>=g;u--)P=c[u],f=S.get(P),L[u]=f===void 0?-1:f,S.set(P,u);for(f=g;f<=m;f++)P=r[f],u=S.get(P),u!==void 0&&u!==-1?(A[u]=s[f],M[u]=o[f],a&&(y[u]=a[f]),u=L[u],S.set(P,u)):o[f]();for(u=g;u<p;u++)u in A?(s[u]=A[u],o[u]=M[u],a&&(a[u]=y[u],a[u](u))):s[u]=Se(h);s=s.slice(0,i=p),r=c.slice(0)}return s});function h(p){if(o[u]=p,a){const[S,L]=ee(u);return a[u]=L,t(c[u],S)}return t(c[u])}}}function Dn(e,t,n={}){let r=[],s=[],o=[],i=[],a=0,c;return Q(()=>Ye(o)),()=>{const f=e()||[];return f[He],Y(()=>{if(f.length===0)return a!==0&&(Ye(o),o=[],r=[],s=[],a=0,i=[]),n.fallback&&(r=[gt],s[0]=Se(h=>(o[0]=h,n.fallback())),a=1),s;for(r[0]===gt&&(o[0](),o=[],r=[],s=[],a=0),c=0;c<f.length;c++)c<r.length&&r[c]!==f[c]?i[c](()=>f[c]):c>=r.length&&(s[c]=Se(u));for(;c<r.length;c++)o[c]();return a=i.length=o.length=f.length,r=f.slice(0),s=s.slice(0,a)});function u(h){o[c]=h;const[p,S]=ee(f[c]);return i[c]=S,t(p,c)}}}function v(e,t){return Y(()=>e(t||{}))}function We(){return!0}const mt={get(e,t,n){return t===re?n:e.get(t)},has(e,t){return t===re?!0:e.has(t)},set:We,deleteProperty:We,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:We,deleteProperty:We}},ownKeys(e){return e.keys()}};function ct(e){return(e=typeof e=="function"?e():e)?e:{}}function Bn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function ie(...e){let t=!1;for(let o=0;o<e.length;o++){const i=e[o];t=t||!!i&&re in i,e[o]=typeof i=="function"?(t=!0,I(i)):i}if(t)return new Proxy({get(o){for(let i=e.length-1;i>=0;i--){const a=ct(e[i])[o];if(a!==void 0)return a}},has(o){for(let i=e.length-1;i>=0;i--)if(o in ct(e[i]))return!0;return!1},keys(){const o=[];for(let i=0;i<e.length;i++)o.push(...Object.keys(ct(e[i])));return[...new Set(o)]}},mt);const n={},r={},s=new Set;for(let o=e.length-1;o>=0;o--){const i=e[o];if(!i)continue;const a=Object.getOwnPropertyNames(i);for(let c=0,f=a.length;c<f;c++){const u=a[c];if(u==="__proto__"||u==="constructor")continue;const h=Object.getOwnPropertyDescriptor(i,u);if(!s.has(u))h.get?(s.add(u),Object.defineProperty(n,u,{enumerable:!0,configurable:!0,get:Bn.bind(r[u]=[h.get.bind(i)])})):(h.value!==void 0&&s.add(u),n[u]=h.value);else{const p=r[u];p?h.get?p.push(h.get.bind(i)):h.value!==void 0&&p.push(()=>h.value):n[u]===void 0&&(n[u]=h.value)}}}return n}function xe(e,...t){if(re in e){const s=new Set(t.length>1?t.flat():t[0]),o=t.map(i=>new Proxy({get(a){return i.includes(a)?e[a]:void 0},has(a){return i.includes(a)&&a in e},keys(){return i.filter(a=>a in e)}},mt));return o.push(new Proxy({get(i){return s.has(i)?void 0:e[i]},has(i){return s.has(i)?!1:i in e},keys(){return Object.keys(e).filter(i=>!s.has(i))}},mt)),o}const n={},r=t.map(()=>({}));for(const s of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,s),i=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,c=0;for(const f of t)f.includes(s)&&(a=!0,i?r[c][s]=o.value:Object.defineProperty(r[c],s,o)),++c;a||(i?n[s]=o.value:Object.defineProperty(n,s,o))}return[...r,n]}const Vn=e=>`Stale read from <${e}>.`;function Ze(e){const t="fallback"in e&&{fallback:()=>e.fallback};return I(Fn(()=>e.each,e.children,t||void 0))}function qn(e){const t="fallback"in e&&{fallback:()=>e.fallback};return I(Dn(()=>e.each,e.children,t||void 0))}function ge(e){const t=e.keyed,n=I(()=>e.when,void 0,{equals:(r,s)=>t?r===s:!r==!s});return I(()=>{const r=n();if(r){const s=e.children;return typeof s=="function"&&s.length>0?Y(()=>s(t?r:()=>{if(!Y(n))throw Vn("Show");return e.when})):s}return e.fallback},void 0,void 0)}const Wn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Un=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Wn]),Hn=new Set(["innerHTML","textContent","innerText","children"]),Kn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),zn=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Gn(e,t){const n=zn[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Xn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Yn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Zn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Qn(e,t,n){let r=n.length,s=t.length,o=r,i=0,a=0,c=t[s-1].nextSibling,f=null;for(;i<s||a<o;){if(t[i]===n[a]){i++,a++;continue}for(;t[s-1]===n[o-1];)s--,o--;if(s===i){const u=o<r?a?n[a-1].nextSibling:n[o-a]:c;for(;a<o;)e.insertBefore(n[a++],u)}else if(o===a)for(;i<s;)(!f||!f.has(t[i]))&&t[i].remove(),i++;else if(t[i]===n[o-1]&&n[a]===t[s-1]){const u=t[--s].nextSibling;e.insertBefore(n[a++],t[i++].nextSibling),e.insertBefore(n[--o],u),t[s]=n[o]}else{if(!f){f=new Map;let h=a;for(;h<o;)f.set(n[h],h++)}const u=f.get(t[i]);if(u!=null)if(a<u&&u<o){let h=i,p=1,S;for(;++h<s&&h<o&&!((S=f.get(t[h]))==null||S!==u+p);)p++;if(p>u-a){const L=t[i];for(;a<u;)e.insertBefore(n[a++],L)}else e.replaceChild(n[a++],t[i++])}else i++;else t[i++].remove()}}}const Lt="_$DX_DELEGATE";function Jn(e,t,n,r={}){let s;return Se(o=>{s=o,t===document?e():z(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{s(),t.textContent=""}}function W(e,t,n){let r;const s=()=>{const i=document.createElement("template");return i.innerHTML=e,n?i.content.firstChild.firstChild:i.content.firstChild},o=t?()=>Y(()=>document.importNode(r||(r=s()),!0)):()=>(r||(r=s())).cloneNode(!0);return o.cloneNode=o,o}function $t(e,t=window.document){const n=t[Lt]||(t[Lt]=new Set);for(let r=0,s=e.length;r<s;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,or))}}function me(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function er(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function tr(e,t){t==null?e.removeAttribute("class"):e.className=t}function nr(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const s=n[0];e.addEventListener(t,n[0]=o=>s.call(e,n[1],o))}else e.addEventListener(t,n)}function Yt(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let o,i;for(o=0,i=s.length;o<i;o++){const a=s[o];!a||a==="undefined"||t[a]||(kt(e,a,!1),delete n[a])}for(o=0,i=r.length;o<i;o++){const a=r[o],c=!!t[a];!a||a==="undefined"||n[a]===c||!c||(kt(e,a,!0),n[a]=c)}return n}function Zt(e,t,n){if(!t)return n?me(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let s,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)s=t[o],s!==n[o]&&(r.setProperty(o,s),n[o]=s);return n}function Fe(e,t={},n,r){const s={};return r||H(()=>s.children=Oe(e,t.children,s.children)),H(()=>t.ref&&t.ref(e)),H(()=>rr(e,t,n,!0,s,!0)),s}function Ee(e,t,n){return Y(()=>e(t,n))}function z(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Oe(e,t,r,n);H(s=>Oe(e,t(),s,n),r)}function rr(e,t,n,r,s={},o=!1){t||(t={});for(const i in s)if(!(i in t)){if(i==="children")continue;s[i]=Rt(e,i,null,s[i],n,o)}for(const i in t){if(i==="children"){r||Oe(e,t.children);continue}const a=t[i];s[i]=Rt(e,i,a,s[i],n,o)}}function sr(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function kt(e,t,n){const r=t.trim().split(/\s+/);for(let s=0,o=r.length;s<o;s++)e.classList.toggle(r[s],n)}function Rt(e,t,n,r,s,o){let i,a,c,f,u;if(t==="style")return Zt(e,n,r);if(t==="classList")return Yt(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);r&&e.removeEventListener(h,r),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);r&&e.removeEventListener(h,r,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),p=Xn.has(h);if(!p&&r){const S=Array.isArray(r)?r[0]:r;e.removeEventListener(h,S)}(p||n)&&(nr(e,h,n,p),p&&$t([h]))}else if(t.slice(0,5)==="attr:")me(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(c=Hn.has(t))||!s&&((f=Gn(t,e.tagName))||(a=Un.has(t)))||(i=e.nodeName.includes("-")))u&&(t=t.slice(5),a=!0),t==="class"||t==="className"?tr(e,n):i&&!a&&!c?e[sr(t)]=n:e[f||t]=n;else{const h=s&&t.indexOf(":")>-1&&Zn[t.split(":")[0]];h?er(e,h,t,n):me(e,Kn[t]||t,n)}return n}function or(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const s=n[`${t}Data`];if(s!==void 0?r.call(n,s,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Oe(e,t,n,r,s){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,i=r!==void 0;if(e=i&&n[0]&&n[0].parentNode||e,o==="string"||o==="number")if(o==="number"&&(t=t.toString()),i){let a=n[0];a&&a.nodeType===3?a.data=t:a=document.createTextNode(t),n=Me(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||o==="boolean")n=Me(e,n,r);else{if(o==="function")return H(()=>{let a=t();for(;typeof a=="function";)a=a();n=Oe(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],c=n&&Array.isArray(n);if(pt(a,t,n,s))return H(()=>n=Oe(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=Me(e,n,r),i)return n}else c?n.length===0?It(e,a,r):Qn(e,n,a):(n&&Me(e),It(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(i)return n=Me(e,n,r,t);Me(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function pt(e,t,n,r){let s=!1;for(let o=0,i=t.length;o<i;o++){let a=t[o],c=n&&n[o],f;if(!(a==null||a===!0||a===!1))if((f=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))s=pt(e,a,c)||s;else if(f==="function")if(r){for(;typeof a=="function";)a=a();s=pt(e,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||s}else e.push(a),s=!0;else{const u=String(a);c&&c.nodeType===3&&c.data===u?e.push(c):e.push(document.createTextNode(u))}}return s}function It(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function Me(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let o=!1;for(let i=t.length-1;i>=0;i--){const a=t[i];if(s!==a){const c=a.parentNode===e;!o&&!i?c?e.replaceChild(s,a):e.insertBefore(s,n):c&&a.remove()}else o=!0}}else e.insertBefore(s,n);return[s]}const ir=!1,ar="http://www.w3.org/2000/svg";function lr(e,t=!1){return t?document.createElementNS(ar,e):document.createElement(e)}function cr(e){const[t,n]=xe(e,["component"]),r=I(()=>t.component);return I(()=>{const s=r();switch(typeof s){case"function":return Y(()=>s(n));case"string":const o=Yn.has(s),i=lr(s,o);return Fe(i,n,o),i}})}const yt=Symbol("store-raw"),Ae=Symbol("store-node"),le=Symbol("store-has"),Qt=Symbol("store-self");function Jt(e){let t=e[re];if(!t&&(Object.defineProperty(e,re,{value:t=new Proxy(e,dr)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let s=0,o=n.length;s<o;s++){const i=n[s];r[i].get&&Object.defineProperty(e,i,{enumerable:r[i].enumerable,get:r[i].get.bind(t)})}}return t}function Qe(e){let t;return e!=null&&typeof e=="object"&&(e[re]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Re(e,t=new Set){let n,r,s,o;if(n=e!=null&&e[yt])return n;if(!Qe(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let i=0,a=e.length;i<a;i++)s=e[i],(r=Re(s,t))!==s&&(e[i]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const i=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let c=0,f=i.length;c<f;c++)o=i[c],!a[o].get&&(s=e[o],(r=Re(s,t))!==s&&(e[o]=r))}return e}function Je(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Ie(e,t,n){if(e[t])return e[t];const[r,s]=ee(n,{equals:!1,internal:!0});return r.$=s,e[t]=r}function ur(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===re||t===Ae||(delete n.value,delete n.writable,n.get=()=>e[re][t]),n}function en(e){dt()&&Ie(Je(e,Ae),Qt)()}function fr(e){return en(e),Reflect.ownKeys(e)}const dr={get(e,t,n){if(t===yt)return e;if(t===re)return n;if(t===He)return en(e),n;const r=Je(e,Ae),s=r[t];let o=s?s():e[t];if(t===Ae||t===le||t==="__proto__")return o;if(!s){const i=Object.getOwnPropertyDescriptor(e,t);dt()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(i&&i.get)&&(o=Ie(r,t,o)())}return Qe(o)?Jt(o):o},has(e,t){return t===yt||t===re||t===He||t===Ae||t===le||t==="__proto__"?!0:(dt()&&Ie(Je(e,le),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:fr,getOwnPropertyDescriptor:ur};function et(e,t,n,r=!1){if(!r&&e[t]===n)return;const s=e[t],o=e.length;n===void 0?(delete e[t],e[le]&&e[le][t]&&s!==void 0&&e[le][t].$()):(e[t]=n,e[le]&&e[le][t]&&s===void 0&&e[le][t].$());let i=Je(e,Ae),a;if((a=Ie(i,t,s))&&a.$(()=>n),Array.isArray(e)&&e.length!==o){for(let c=e.length;c<o;c++)(a=i[c])&&a.$();(a=Ie(i,"length",o))&&a.$(e.length)}(a=i[Qt])&&a.$()}function tn(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const s=n[r];et(e,s,t[s])}}function hr(e,t){if(typeof t=="function"&&(t=t(e)),t=Re(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const s=t[n];e[n]!==s&&et(e,n,s)}et(e,"length",r)}else tn(e,t)}function Le(e,t,n=[]){let r,s=e;if(t.length>1){r=t.shift();const i=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let c=0;c<r.length;c++)Le(e,[r[c]].concat(t),n);return}else if(a&&i==="function"){for(let c=0;c<e.length;c++)r(e[c],c)&&Le(e,[c].concat(t),n);return}else if(a&&i==="object"){const{from:c=0,to:f=e.length-1,by:u=1}=r;for(let h=c;h<=f;h+=u)Le(e,[h].concat(t),n);return}else if(t.length>1){Le(e[r],t,[r].concat(n));return}s=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(s,n),o===s)||r===void 0&&o==null||(o=Re(o),r===void 0||Qe(s)&&Qe(o)&&!Array.isArray(o)?tn(s,o):et(e,r,o))}function st(...[e,t]){const n=Re(e||{}),r=Array.isArray(n),s=Jt(n);function o(...i){En(()=>{r&&i.length===1?hr(n,i[0]):Le(n,i)})}return[s,o]}const bt=Symbol.for("tw-classed.vars"),gr=e=>e.filter(Boolean).join(" "),jt=(e,t)=>typeof t=="boolean"||!t?e:e?e+" "+t:t,mr=e=>{let t=[],n={},r={},s=[],o=new Set,i={};for(const a of e)if(a){if(typeof a=="string"){t.push(a);continue}if(typeof a=="object"||typeof a=="function"){const c=Reflect.has(a,bt)?Reflect.get(a,bt):a;c.variants&&Object.assign(n,c.variants),c.defaultVariants&&Object.assign(r,c.defaultVariants),c.compoundVariants&&c.compoundVariants.forEach(f=>s.push(f)),c.className&&t.push(c.className),c.base&&t.push(c.base),c.dataAttributes&&c.dataAttributes.forEach(f=>{o.add(f)}),c.defaultProps&&Object.assign(i,c.defaultProps)}}return{className:gr(t),variants:n,defaultVariants:r,compoundVariants:s,dataAttributes:Array.from(o),defaultProps:i}},pr=(e,t,{defaultVariants:n})=>{var r;const s=t[e];return(s==null?void 0:s.toString())||(n==null||(r=n[e])==null?void 0:r.toString())},yr=({variants:e,defaultVariants:t,compoundVariants:n},r={},s=!1)=>{const o=new Set,i=Object.keys(e).reduce((c,f)=>{const u=pr(f,r,{defaultVariants:t});if(!u)return c;s&&o.add(f);const h=e[f][u];return h?jt(c,h):c},""),a=br({props:r,defaultVariants:t},n);return s&&o.forEach(c=>delete r[c]),jt(i,a==null?void 0:a.join(" "))};function br({props:e,defaultVariants:t},n=[]){return n.reduce((r,{class:s,className:o,...i})=>(Object.entries(i).some(([c,f])=>{const u=e[c],h=u!==void 0?u:t==null?void 0:t[c];return Array.isArray(f)?!f.includes(h):h!==f})||(s&&r.push(s),o&&r.push(o)),r),[])}const nn=Symbol.for("tw-classed.component"),Nt=e=>(typeof e=="object"||typeof e=="function")&&Reflect.has(e,nn),vr=(...e)=>e.filter(Boolean).join(" "),wr=(e,t,{merger:n=vr}={})=>{const{className:r,variants:s,defaultVariants:o,compoundVariants:i}=mr(t),a=Object.keys(s),c=f=>{const[u,h]=xe(f,["as","class"]),[,p]=xe(h,a),S=Nt(e)?e:u.as||e,L=I(()=>{const[M]=xe(f,a);return yr({variants:s,defaultVariants:o,compoundVariants:i},M,!0)}),A=I(()=>n(r,u.class,L()));return v(cr,ie({component:S,get class(){return A()}},p,{get as(){return Nt(e)?u.as:void 0}}))};return Reflect.set(c,bt,{className:r,variants:s,defaultVariants:o}),Reflect.set(c,nn,!0),c},Sr=e=>{const t=(r,...s)=>wr(r,s,e);return{classed:new Proxy(t,{get:(r,s)=>function(...o){return t.apply(this,[s,...o])}})}},De=Sr({}).classed,xr=De.h1("my-3 [text-shadow:_0_2px_5px_rgba(0,0,0,.5)] text-center text-white",{variants:{level:{6:"text-md",5:"text-lg",4:"text-xl",3:"text-2xl",2:"text-4xl",1:"text-6xl"}}}),Pe=e=>v(xr,ie({get as(){return`h${e.level||1}`}},e)),Pr=W('<div class="m-auto grid aspect-square shadow">'),$r=W('<button type=button class="border border-white bg-white/70">');function Mr(e){const[t,n]=ee(0);return ce(()=>{const r=e.tiles,s=setInterval(n,1e3,()=>Math.floor(Math.random()*r));Q(()=>clearInterval(s))}),(()=>{const r=Pr();return r.style.setProperty("width","var(--w)"),r.style.setProperty("gap","calc(var(--w) / var(--tilesPerAxis) * 0.2)"),r.style.setProperty("grid-template-columns","repeat(var(--tilesPerAxis), minmax(0, 1fr))"),z(r,v(Ze,{get each(){return Array.from({length:e.tiles})},children:(s,o)=>(()=>{const i=$r();return i.$$click=()=>n(o()),H(a=>{const c={"transition duration-300":o()===t()},f=o()===t()?{transform:"rotate(90deg)"}:{};return a._v$3=Yt(i,c,a._v$3),a._v$4=Zt(i,f,a._v$4),a},{_v$3:void 0,_v$4:void 0}),i})()})),H(s=>{const o=e.width??"80px",i=e.tiles**(1/2);return o!==s._v$&&((s._v$=o)!=null?r.style.setProperty("--w",o):r.style.removeProperty("--w")),i!==s._v$2&&((s._v$2=i)!=null?r.style.setProperty("--tilesPerAxis",i):r.style.removeProperty("--tilesPerAxis")),s},{_v$:void 0,_v$2:void 0}),r})()}$t(["click"]);const fe=De.button("relative","appearance-none","px-4 py-2","bg-gray-50","rounded-full","cursor-pointer","select-none","[&:not(:disabled)]:active:translate-y-2","[&:not(:disabled)]:active:[box-shadow:0_0px_0_0_#999999,0_0px_0_0_#99999941]","[&:not(:disabled)]:active:border-transparent","transition-all","duration-150","[box-shadow:0_8px_0_0_#999999,0_13px_0_0_#99999941]","border-2","border-gray-300","focus-within:border-2","focus-within:border-current","disabled:text-gray-300","disabled:cursor-not-allowed"),Ar=W("<select>"),Cr=W("<span class=opacity-40>"),Ft=e=>{const[t,n]=ee(""),[r,s]=xe(e,["name","form","disabled","required","autofocus","onChange","onInput","onReset"]);async function o(i){if(!i)return;const a=()=>{var c;n(((c=i.querySelector("option:checked"))==null?void 0:c.textContent)||"")};i.addEventListener("change",a),Q(()=>{i.removeEventListener("change",a)}),Promise.resolve().then(a)}return v(fe,ie({as:"label",tabIndex:-1,class:"inline-flex items-center justify-between border-2 border-transparent after:ml-2 after:inline-block after:h-0 after:w-0 after:border-8 after:border-b-0 after:border-transparent after:border-t-current after:align-middle after:content-['']"},e,{get children(){return[(()=>{const i=Ar(),a=o;return typeof a=="function"?Ee(a,i):o=i,Fe(i,ie(r,{id:"level",class:"absolute inset-0 opacity-0"}),!1,!0),z(i,()=>e.children),i})(),v(ge,{get when(){return!!t()},get fallback(){return(()=>{const i=Cr();return z(i,()=>e.placeholder),i})()},get children(){return t()}})]}}))},rn={items:{center:"items-center",start:"items-start",end:"items-end"},justify:{center:"justify-center",start:"justify-start",end:"justify-end",between:"justify-between",around:"justify-around"},gap:{0:"gap-0",1:"gap-1",2:"gap-2",3:"gap-3",4:"gap-4",5:"gap-5",6:"gap-6"}},tt=De.div("flex flex-col",{variants:{...rn}}),Mt=De.div("flex flex-row",{variants:{...rn}}),Dt=W("<span class=opacity-80>"),_r=W('<input type=file class="absolute inset-0 opacity-0">'),Er=e=>{const[t,n]=ee(null),r=ie({placeholder:"Choose a file…",label:f=>Array.from([...f],u=>u.name).join(", ")},e),[s,o]=xe(r,["name","accept","autofocus","disabled","form","multiple","onChange","onInput","onReset","required","size"]),[,i]=xe(o,["label","value"]);function a(){const f=t(),u=r.label;return typeof u=="function"?f!==null&&[...f].length?u(f):(()=>{const h=Dt();return z(h,()=>r.placeholder),h})():u||(()=>{const h=Dt();return z(h,()=>r.placeholder),h})()}function c(f){if(!f)return;r.defaultValue&&(f.files=r.defaultValue,n(r.defaultValue));const u=()=>{n(f.files)};f.addEventListener("change",u),Q(()=>{f.removeEventListener("change",u)})}return v(fe,ie({as:"label"},i,{get children(){return[I(()=>a()),(()=>{const f=_r(),u=c;return typeof u=="function"?Ee(u,f):c=f,Fe(f,s,!1,!1),f})()]}}))},Or=W("<option value=rotate>Rotate"),Tr=W("<option value=slide>Slide"),Lr=W("<option>Difficulty: <!> (<!>x<!>)"),kr=W('<img alt="Preview of the game theme"class="h-[1em] object-scale-down">'),Rr=W('<span>"<!>"'),Bt={slide:{Easy:2,Regular:3,Hard:4},rotate:{Easy:2,Regular:3,Hard:5,Expert:10}},Ir=De.form("grid flex-1 items-center justify-center");function jr(e){const t=ie({initialSetup:{file:null,level:3,mode:"rotate"}},e),[n,r]=st({file:t.initialSetup.file,level:t.initialSetup.level,mode:t.initialSetup.mode}),[s,o]=ee(!1);function i(f){r("level",parseInt(f.target.value,10))}function a(){if(!t.initialSetup.file)return null;const f=new DataTransfer;return f.items.add(t.initialSetup.file),f.files}function c(f){f!==null&&f.checkValidity()&&o(!0)}return v(Ir,{ref(f){const u=c;typeof u=="function"?u(f):c=f},onChange:f=>{var u;(u=f.target.form)!=null&&u.checkValidity()&&o(!0)},onSubmit:f=>{var u;f.preventDefault(),(u=t.onSubmit)==null||u.call(t,{...n})},get children(){return v(tt,{gap:2,get children(){return[v(Mr,{get tiles(){return n.level**2}}),v(Pe,{level:"1",children:"It's Picture Puzzle Time"}),v(tt,{gap:3,items:"center",get children(){return[v(Ft,{onChange:f=>{r("mode",f.target.value),r("level",Bt[f.target.value].Regular)},name:"mode",required:!0,placeholder:"Mode",get children(){return[(()=>{const f=Or();return H(()=>f.selected=n.mode==="rotate"),f})(),(()=>{const f=Tr();return H(()=>f.selected=n.mode==="slide"),f})()]}}),v(ge,{get when(){return n.mode},keyed:!0,children:f=>v(Ft,{onChange:i,name:"level",required:!0,placeholder:"Difficulty level",get children(){return v(Ze,{get each(){return Object.entries(Bt[f])},children:([u,h])=>(()=>{const p=Lr(),S=p.firstChild,L=S.nextSibling,A=L.nextSibling,M=A.nextSibling,y=M.nextSibling,g=y.nextSibling;return g.nextSibling,p.value=h,z(p,u,L),z(p,h,M),z(p,h,g),H(()=>p.selected=h===n.level),p})()})}})}),v(Er,{get defaultValue(){return a()},name:"file",accept:"image/*",onChange:f=>{f.target.files&&r("file",f.target.files[0])},required:!0,label:f=>v(Ze,{get each(){return Array.from(f)},children:u=>v(Mt,{gap:2,items:"center",get children(){return[(()=>{const h=kr();return H(()=>me(h,"src",URL.createObjectURL(u))),h})(),(()=>{const h=Rr(),p=h.firstChild,S=p.nextSibling;return S.nextSibling,z(h,()=>u.name,S),h})()]}})})}),v(fe,{class:"mt-5",type:"submit",get disabled(){return!s()},children:"Start game"})]}})]}})}})}function sn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Nr([e,t],n,r){return[n?()=>n(e()):e,r?s=>t(r(s)):t]}function Fr(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function on(e,t){const n=Fr(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function an(e,t,n,r){let s=!1;const o=a=>typeof a=="string"?{value:a}:a,i=Nr(ee(o(e()),{equals:(a,c)=>a.value===c.value}),void 0,a=>(!s&&t(a),a));return n&&Q(n((a=e())=>{s=!0,i[1](o(a)),s=!1})),{signal:i,utils:r}}function Dr(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:ee({value:""})};return e}function Br(){return an(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"",e):window.history.pushState(r,"",e),on(window.location.hash.slice(1),n)},e=>sn(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}function Vr(){return an(()=>window.location.hash.slice(1),({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"","#"+e):window.location.hash=e;const s=e.indexOf("#"),o=s>=0?e.slice(s+1):"";on(o,n)},e=>sn(window,"hashchange",()=>e()),{go:e=>window.history.go(e),renderPath:e=>`#${e}`,parsePath:e=>{const t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${t}`}return t}})}function qr(){let e=new Set;function t(s){return e.add(s),()=>e.delete(s)}let n=!1;function r(s,o){if(n)return!(n=!1);const i={to:s,options:o,defaultPrevented:!1,preventDefault:()=>i.defaultPrevented=!0};for(const a of e)a.listener({...i,from:a.location,retry:c=>{c&&(n=!0),a.navigate(s,o)}});return!i.defaultPrevented}return{subscribe:t,confirm:r}}const Wr=/^(?:[a-z0-9]+:)?\/\//i,Ur=/^\/+|(\/)\/+$/g;function ke(e,t=!1){const n=e.replace(Ur,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Ue(e,t,n){if(Wr.test(t))return;const r=ke(e),s=n&&ke(n);let o="";return!s||t.startsWith("/")?o=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?o=r+s:o=s,(o||"/")+ke(t,!o)}function Hr(e,t){if(e==null)throw new Error(t);return e}function ln(e,t){return ke(e).replace(/\/*(\*.*)?$/g,"")+ke(t)}function Kr(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function zr(e,t,n){const[r,s]=e.split("/*",2),o=r.split("/").filter(Boolean),i=o.length;return a=>{const c=a.split("/").filter(Boolean),f=c.length-i;if(f<0||f>0&&s===void 0&&!t)return null;const u={path:i?"":"/",params:{}},h=p=>n===void 0?void 0:n[p];for(let p=0;p<i;p++){const S=o[p],L=c[p],A=S[0]===":",M=A?S.slice(1):S;if(A&&ut(L,h(M)))u.params[M]=L;else if(A||!ut(L,S))return null;u.path+=`/${L}`}if(s){const p=f?c.slice(-f).join("/"):"";if(ut(p,h(s)))u.params[s]=p;else return null}return u}}function ut(e,t){const n=r=>r.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Gr(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((s,o)=>s+(o.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function cn(e){const t=new Map,n=On();return new Proxy({},{get(r,s){return t.has(s)||Tn(n,()=>t.set(s,I(()=>e()[s]))),t.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function un(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const s=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=t[1]),r=r.slice(t[0].length);return un(r).reduce((o,i)=>[...o,...s.map(a=>a+i)],[])}const Xr=100,fn=Ht(),ot=Ht(),Be=()=>Hr(wt(fn),"Make sure your app is wrapped in a <Router />");let je;const dn=()=>je||wt(ot)||Be().base,At=()=>Be().navigatorFactory(),hn=()=>Be().location,Yr=e=>{const t=Be().beforeLeave.subscribe({listener:e,location:hn(),navigate:At()});Q(t)};function Zr(e,t="",n){const{component:r,data:s,children:o}=e,i=!o||Array.isArray(o)&&!o.length,a={key:e,element:r?()=>v(r,{}):()=>{const{element:c}=e;return c===void 0&&n?v(n,{}):c},preload:e.component?r.preload:e.preload,data:s};return gn(e.path).reduce((c,f)=>{for(const u of un(f)){const h=ln(t,u),p=i?h:h.split("/*",1)[0];c.push({...a,originalPath:u,pattern:p,matcher:zr(p,!i,e.matchFilters)})}return c},[])}function Qr(e,t=0){return{routes:e,score:Gr(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let s=e.length-1;s>=0;s--){const o=e[s],i=o.matcher(n);if(!i)return null;r.unshift({...i,route:o})}return r}}}function gn(e){return Array.isArray(e)?e:[e]}function mn(e,t="",n,r=[],s=[]){const o=gn(e);for(let i=0,a=o.length;i<a;i++){const c=o[i];if(c&&typeof c=="object"&&c.hasOwnProperty("path")){const f=Zr(c,t,n);for(const u of f){r.push(u);const h=Array.isArray(c.children)&&c.children.length===0;if(c.children&&!h)mn(c.children,u.pattern,n,r,s);else{const p=Qr([...r],s.length);s.push(p)}r.pop()}}}return r.length?s:s.sort((i,a)=>a.score-i.score)}function Jr(e,t){for(let n=0,r=e.length;n<r;n++){const s=e[n].matcher(t);if(s)return s}return[]}function es(e,t){const n=new URL("http://sar"),r=I(c=>{const f=e();try{return new URL(f,n)}catch{return console.error(`Invalid path ${f}`),c}},n,{equals:(c,f)=>c.href===f.href}),s=I(()=>r().pathname),o=I(()=>r().search,!0),i=I(()=>r().hash),a=I(()=>"");return{get pathname(){return s()},get search(){return o()},get hash(){return i()},get state(){return t()},get key(){return a()},query:cn(Wt(o,()=>Kr(r())))}}function ts(e,t="",n,r){const{signal:[s,o],utils:i={}}=Dr(e),a=i.parsePath||(F=>F),c=i.renderPath||(F=>F),f=i.beforeLeave||qr(),u=Ue("",t),h=void 0;if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!s().value&&o({value:u,replace:!0,scroll:!1});const[p,S]=ee(!1),L=async F=>{S(!0);try{await Ln(F)}finally{S(!1)}},[A,M]=ee(s().value),[y,g]=ee(s().state),m=es(A,y),b=[],P={pattern:u,params:{},path:()=>u,outlet:()=>null,resolvePath(F){return Ue(u,F)}};if(n)try{je=P,P.data=n({data:void 0,params:{},location:m,navigate:U(P)})}finally{je=void 0}function E(F,j,K){Y(()=>{if(typeof j=="number"){j&&(i.go?f.confirm(j,K)&&i.go(j):console.warn("Router integration does not support relative routing"));return}const{replace:$e,resolve:be,scroll:J,state:de}={replace:!1,resolve:!0,scroll:!0,...K},se=be?F.resolvePath(j):Ue("",j);if(se===void 0)throw new Error(`Path '${j}' is not a routable path`);if(b.length>=Xr)throw new Error("Too many redirects");const ve=A();if((se!==ve||de!==y())&&!ir){if(f.confirm(se,K)){const it=b.push({value:ve,replace:$e,scroll:J,state:y()});L(()=>{M(se),g(de)}).then(()=>{b.length===it&&Te({value:se,state:de})})}}})}function U(F){return F=F||wt(ot)||P,(j,K)=>E(F,j,K)}function Te(F){const j=b[0];j&&((F.value!==j.value||F.state!==j.state)&&o({...F,replace:j.replace,scroll:j.scroll}),b.length=0)}H(()=>{const{value:F,state:j}=s();Y(()=>{F!==A()&&L(()=>{M(F),g(j)})})});{let F=function(j){if(j.defaultPrevented||j.button!==0||j.metaKey||j.altKey||j.ctrlKey||j.shiftKey)return;const K=j.composedPath().find(ve=>ve instanceof Node&&ve.nodeName.toUpperCase()==="A");if(!K||!K.hasAttribute("link"))return;const $e=K.href;if(K.target||!$e&&!K.hasAttribute("state"))return;const be=(K.getAttribute("rel")||"").split(/\s+/);if(K.hasAttribute("download")||be&&be.includes("external"))return;const J=new URL($e);if(J.origin!==window.location.origin||u&&J.pathname&&!J.pathname.toLowerCase().startsWith(u.toLowerCase()))return;const de=a(J.pathname+J.search+J.hash),se=K.getAttribute("state");j.preventDefault(),E(P,de,{resolve:!1,replace:K.hasAttribute("replace"),scroll:!K.hasAttribute("noscroll"),state:se&&JSON.parse(se)})};var qe=F;$t(["click"]),document.addEventListener("click",F),Q(()=>document.removeEventListener("click",F))}return{base:P,out:h,location:m,isRouting:p,renderPath:c,parsePath:a,navigatorFactory:U,beforeLeave:f}}function ns(e,t,n,r,s){const{base:o,location:i,navigatorFactory:a}=e,{pattern:c,element:f,preload:u,data:h}=r().route,p=I(()=>r().path);u&&u();const S={parent:t,pattern:c,get child(){return n()},path:p,params:s,data:t.data,outlet:f,resolvePath(L){return Ue(o.path(),L,p())}};if(h)try{je=S,S.data=h({data:t.data,params:s,location:i,navigate:a(S)})}finally{je=void 0}return S}const rs=e=>{const{source:t,url:n,base:r,data:s,out:o}=e,i=t||Br(),a=ts(i,r,s);return v(fn.Provider,{value:a,get children(){return e.children}})},ss=e=>{const t=Be(),n=dn(),r=St(()=>e.children),s=I(()=>mn(r(),ln(n.pattern,e.base||""),os)),o=I(()=>Jr(s(),t.location.pathname)),i=cn(()=>{const u=o(),h={};for(let p=0;p<u.length;p++)Object.assign(h,u[p].params);return h});t.out&&t.out.matches.push(o().map(({route:u,path:h,params:p})=>({originalPath:u.originalPath,pattern:u.pattern,path:h,params:p})));const a=[];let c;const f=I(Wt(o,(u,h,p)=>{let S=h&&u.length===h.length;const L=[];for(let A=0,M=u.length;A<M;A++){const y=h&&h[A],g=u[A];p&&y&&g.route.key===y.route.key?L[A]=p[A]:(S=!1,a[A]&&a[A](),Se(m=>{a[A]=m,L[A]=ns(t,L[A-1]||n,()=>f()[A+1],()=>o()[A],i)}))}return a.splice(u.length).forEach(A=>A()),p&&S?p:(c=L[0],L)}));return v(ge,{get when(){return f()&&c},keyed:!0,children:u=>v(ot.Provider,{value:u,get children(){return u.outlet()}})})},ft=e=>{const t=St(()=>e.children);return ie(e,{get children(){return t()}})},os=()=>{const e=dn();return v(ge,{get when(){return e.child},keyed:!0,children:t=>v(ot.Provider,{value:t,get children(){return t.outlet()}})})};function is(e){const t=At(),n=hn(),{href:r,state:s}=e,o=typeof r=="function"?r({navigate:t,location:n}):r;return t(o,{replace:!0,state:s}),null}var Ve={};(function e(t,n,r,s){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;var d=new OffscreenCanvas(1,1),l=d.getContext("2d");l.fillRect(0,0,1,1);var w=d.transferToImageBitmap();try{l.createPattern(w,"no-repeat")}catch{return!1}return!0}();function c(){}function f(d){var l=n.exports.Promise,w=l!==void 0?l:t.Promise;return typeof w=="function"?new w(d):(d(c,c),null)}var u=function(d,l){return{transform:function(w){if(d)return w;if(l.has(w))return l.get(w);var $=new OffscreenCanvas(w.width,w.height),C=$.getContext("2d");return C.drawImage(w,0,0),l.set(w,$),$},clear:function(){l.clear()}}}(a,new Map),h=function(){var d=Math.floor(16.666666666666668),l,w,$={},C=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(l=function(_){var O=Math.random();return $[O]=requestAnimationFrame(function x(T){C===T||C+d-1<T?(C=T,delete $[O],_()):$[O]=requestAnimationFrame(x)}),O},w=function(_){$[_]&&cancelAnimationFrame($[_])}):(l=function(_){return setTimeout(_,d)},w=function(_){return clearTimeout(_)}),{frame:l,cancel:w}}(),p=function(){var d,l,w={};function $(C){function _(O,x){C.postMessage({options:O||{},callback:x})}C.init=function(x){var T=x.transferControlToOffscreen();C.postMessage({canvas:T},[T])},C.fire=function(x,T,D){if(l)return _(x,null),l;var V=Math.random().toString(36).slice(2);return l=f(function(B){function q(G){G.data.callback===V&&(delete w[V],C.removeEventListener("message",q),l=null,u.clear(),D(),B())}C.addEventListener("message",q),_(x,V),w[V]=q.bind(null,{data:{callback:V}})}),l},C.reset=function(){C.postMessage({reset:!0});for(var x in w)w[x](),delete w[x]}}return function(){if(d)return d;if(!r&&o){var C=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{d=new Worker(URL.createObjectURL(new Blob([C])))}catch(_){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",_),null}$(d)}return d}}(),S={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function L(d,l){return l?l(d):d}function A(d){return d!=null}function M(d,l,w){return L(d&&A(d[l])?d[l]:S[l],w)}function y(d){return d<0?0:Math.floor(d)}function g(d,l){return Math.floor(Math.random()*(l-d))+d}function m(d){return parseInt(d,16)}function b(d){return d.map(P)}function P(d){var l=String(d).replace(/[^0-9a-f]/gi,"");return l.length<6&&(l=l[0]+l[0]+l[1]+l[1]+l[2]+l[2]),{r:m(l.substring(0,2)),g:m(l.substring(2,4)),b:m(l.substring(4,6))}}function E(d){var l=M(d,"origin",Object);return l.x=M(l,"x",Number),l.y=M(l,"y",Number),l}function U(d){d.width=document.documentElement.clientWidth,d.height=document.documentElement.clientHeight}function Te(d){var l=d.getBoundingClientRect();d.width=l.width,d.height=l.height}function qe(d){var l=document.createElement("canvas");return l.style.position="fixed",l.style.top="0px",l.style.left="0px",l.style.pointerEvents="none",l.style.zIndex=d,l}function F(d,l,w,$,C,_,O,x,T){d.save(),d.translate(l,w),d.rotate(_),d.scale($,C),d.arc(0,0,1,O,x,T),d.restore()}function j(d){var l=d.angle*(Math.PI/180),w=d.spread*(Math.PI/180);return{x:d.x,y:d.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:d.startVelocity*.5+Math.random()*d.startVelocity,angle2D:-l+(.5*w-Math.random()*w),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:d.color,shape:d.shape,tick:0,totalTicks:d.ticks,decay:d.decay,drift:d.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:d.gravity*3,ovalScalar:.6,scalar:d.scalar,flat:d.flat}}function K(d,l){l.x+=Math.cos(l.angle2D)*l.velocity+l.drift,l.y+=Math.sin(l.angle2D)*l.velocity+l.gravity,l.velocity*=l.decay,l.flat?(l.wobble=0,l.wobbleX=l.x+10*l.scalar,l.wobbleY=l.y+10*l.scalar,l.tiltSin=0,l.tiltCos=0,l.random=1):(l.wobble+=l.wobbleSpeed,l.wobbleX=l.x+10*l.scalar*Math.cos(l.wobble),l.wobbleY=l.y+10*l.scalar*Math.sin(l.wobble),l.tiltAngle+=.1,l.tiltSin=Math.sin(l.tiltAngle),l.tiltCos=Math.cos(l.tiltAngle),l.random=Math.random()+2);var w=l.tick++/l.totalTicks,$=l.x+l.random*l.tiltCos,C=l.y+l.random*l.tiltSin,_=l.wobbleX+l.random*l.tiltCos,O=l.wobbleY+l.random*l.tiltSin;if(d.fillStyle="rgba("+l.color.r+", "+l.color.g+", "+l.color.b+", "+(1-w)+")",d.beginPath(),i&&l.shape.type==="path"&&typeof l.shape.path=="string"&&Array.isArray(l.shape.matrix))d.fill(se(l.shape.path,l.shape.matrix,l.x,l.y,Math.abs(_-$)*.1,Math.abs(O-C)*.1,Math.PI/10*l.wobble));else if(l.shape.type==="bitmap"){var x=Math.PI/10*l.wobble,T=Math.abs(_-$)*.1,D=Math.abs(O-C)*.1,V=l.shape.bitmap.width*l.scalar,B=l.shape.bitmap.height*l.scalar,q=new DOMMatrix([Math.cos(x)*T,Math.sin(x)*T,-Math.sin(x)*D,Math.cos(x)*D,l.x,l.y]);q.multiplySelf(new DOMMatrix(l.shape.matrix));var G=d.createPattern(u.transform(l.shape.bitmap),"no-repeat");G.setTransform(q),d.globalAlpha=1-w,d.fillStyle=G,d.fillRect(l.x-V/2,l.y-B/2,V,B),d.globalAlpha=1}else if(l.shape==="circle")d.ellipse?d.ellipse(l.x,l.y,Math.abs(_-$)*l.ovalScalar,Math.abs(O-C)*l.ovalScalar,Math.PI/10*l.wobble,0,2*Math.PI):F(d,l.x,l.y,Math.abs(_-$)*l.ovalScalar,Math.abs(O-C)*l.ovalScalar,Math.PI/10*l.wobble,0,2*Math.PI);else if(l.shape==="star")for(var k=Math.PI/2*3,Z=4*l.scalar,te=8*l.scalar,ne=l.x,ae=l.y,we=5,oe=Math.PI/we;we--;)ne=l.x+Math.cos(k)*te,ae=l.y+Math.sin(k)*te,d.lineTo(ne,ae),k+=oe,ne=l.x+Math.cos(k)*Z,ae=l.y+Math.sin(k)*Z,d.lineTo(ne,ae),k+=oe;else d.moveTo(Math.floor(l.x),Math.floor(l.y)),d.lineTo(Math.floor(l.wobbleX),Math.floor(C)),d.lineTo(Math.floor(_),Math.floor(O)),d.lineTo(Math.floor($),Math.floor(l.wobbleY));return d.closePath(),d.fill(),l.tick<l.totalTicks}function $e(d,l,w,$,C){var _=l.slice(),O=d.getContext("2d"),x,T,D=f(function(V){function B(){x=T=null,O.clearRect(0,0,$.width,$.height),u.clear(),C(),V()}function q(){r&&!($.width===s.width&&$.height===s.height)&&($.width=d.width=s.width,$.height=d.height=s.height),!$.width&&!$.height&&(w(d),$.width=d.width,$.height=d.height),O.clearRect(0,0,$.width,$.height),_=_.filter(function(G){return K(O,G)}),_.length?x=h.frame(q):B()}x=h.frame(q),T=B});return{addFettis:function(V){return _=_.concat(V),D},canvas:d,promise:D,reset:function(){x&&h.cancel(x),T&&T()}}}function be(d,l){var w=!d,$=!!M(l||{},"resize"),C=!1,_=M(l,"disableForReducedMotion",Boolean),O=o&&!!M(l||{},"useWorker"),x=O?p():null,T=w?U:Te,D=d&&x?!!d.__confetti_initialized:!1,V=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,B;function q(k,Z,te){for(var ne=M(k,"particleCount",y),ae=M(k,"angle",Number),we=M(k,"spread",Number),oe=M(k,"startVelocity",Number),yn=M(k,"decay",Number),bn=M(k,"gravity",Number),vn=M(k,"drift",Number),_t=M(k,"colors",b),wn=M(k,"ticks",Number),Et=M(k,"shapes"),Sn=M(k,"scalar"),xn=!!M(k,"flat"),Ot=E(k),Tt=ne,at=[],Pn=d.width*Ot.x,$n=d.height*Ot.y;Tt--;)at.push(j({x:Pn,y:$n,angle:ae,spread:we,startVelocity:oe,color:_t[Tt%_t.length],shape:Et[g(0,Et.length)],ticks:wn,decay:yn,gravity:bn,drift:vn,scalar:Sn,flat:xn}));return B?B.addFettis(at):(B=$e(d,at,T,Z,te),B.promise)}function G(k){var Z=_||M(k,"disableForReducedMotion",Boolean),te=M(k,"zIndex",Number);if(Z&&V)return f(function(oe){oe()});w&&B?d=B.canvas:w&&!d&&(d=qe(te),document.body.appendChild(d)),$&&!D&&T(d);var ne={width:d.width,height:d.height};x&&!D&&x.init(d),D=!0,x&&(d.__confetti_initialized=!0);function ae(){if(x){var oe={getBoundingClientRect:function(){if(!w)return d.getBoundingClientRect()}};T(oe),x.postMessage({resize:{width:oe.width,height:oe.height}});return}ne.width=ne.height=null}function we(){B=null,$&&(C=!1,t.removeEventListener("resize",ae)),w&&d&&(document.body.removeChild(d),d=null,D=!1)}return $&&!C&&(C=!0,t.addEventListener("resize",ae,!1)),x?x.fire(k,ne,we):q(k,ne,we)}return G.reset=function(){x&&x.reset(),B&&B.reset()},G}var J;function de(){return J||(J=be(null,{useWorker:!0,resize:!0})),J}function se(d,l,w,$,C,_,O){var x=new Path2D(d),T=new Path2D;T.addPath(x,new DOMMatrix(l));var D=new Path2D;return D.addPath(T,new DOMMatrix([Math.cos(O)*C,Math.sin(O)*C,-Math.sin(O)*_,Math.cos(O)*_,w,$])),D}function ve(d){if(!i)throw new Error("path confetti are not supported in this browser");var l,w;typeof d=="string"?l=d:(l=d.path,w=d.matrix);var $=new Path2D(l),C=document.createElement("canvas"),_=C.getContext("2d");if(!w){for(var O=1e3,x=O,T=O,D=0,V=0,B,q,G=0;G<O;G+=2)for(var k=0;k<O;k+=2)_.isPointInPath($,G,k,"nonzero")&&(x=Math.min(x,G),T=Math.min(T,k),D=Math.max(D,G),V=Math.max(V,k));B=D-x,q=V-T;var Z=10,te=Math.min(Z/B,Z/q);w=[te,0,0,te,-Math.round(B/2+x)*te,-Math.round(q/2+T)*te]}return{type:"path",path:l,matrix:w}}function it(d){var l,w=1,$="#000000",C='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof d=="string"?l=d:(l=d.text,w="scalar"in d?d.scalar:w,C="fontFamily"in d?d.fontFamily:C,$="color"in d?d.color:$);var _=10*w,O=""+_+"px "+C,x=new OffscreenCanvas(_,_),T=x.getContext("2d");T.font=O;var D=T.measureText(l),V=Math.ceil(D.actualBoundingBoxRight+D.actualBoundingBoxLeft),B=Math.ceil(D.actualBoundingBoxAscent+D.actualBoundingBoxDescent),q=2,G=D.actualBoundingBoxLeft+q,k=D.actualBoundingBoxAscent+q;V+=q+q,B+=q+q,x=new OffscreenCanvas(V,B),T=x.getContext("2d"),T.font=O,T.fillStyle=$,T.fillText(l,G,k);var Z=1/w;return{type:"bitmap",bitmap:x.transferToImageBitmap(),matrix:[Z,0,0,Z,-V*Z/2,-B*Z/2]}}n.exports=function(){return de().apply(this,arguments)},n.exports.reset=function(){de().reset()},n.exports.create=be,n.exports.shapeFromPath=ve,n.exports.shapeFromText=it})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ve,!1);const Ce=Ve.exports;Ve.exports.create;const as=W("<img hidden>"),ls=W('<div class="flex flex-1 flex-col items-center justify-center overflow-hidden"><div class="grid aspect-square items-center justify-center overflow-hidden transition-[height]">'),cs=W('<div class="absolute inset-0 grid h-full w-full animate-[1s_fade-in_500ms] place-content-center font-bold opacity-0 backdrop-blur-lg"><div><img class="m-auto w-1/2 animate-[1s_animate-pop_500ms] shadow-xl">'),us=W('<div class="grid h-full place-content-center">Loading...'),fs=W('<button type=button class="box-content aspect-square appearance-none border bg-no-repeat transition-[transform,shadow] duration-300">'),ds=e=>{const t=I(()=>{const g=e.tiles||9,m=Math.sqrt(g);return{rows:m,cols:m,tiles:g}}),[n,r]=st({tiles:[],containerSide:0,start:new Date,current:new Date});ce(()=>{r("tiles",Array.from({length:t().rows*t().cols},()=>Math.floor(Math.random()*4)))});const s=setInterval(()=>r("current",new Date),1e3);Q(()=>clearInterval(s)),ce(()=>{a()&&clearInterval(s)});let o,i=null;const a=I(()=>n.tiles.every(g=>Math.abs(g)%4===0)),c=I(()=>{const{naturalWidth:g,naturalHeight:m}=i||{naturalWidth:0,naturalHeight:0},b=n.containerSide;let P,E,U;return g>m?(P=g/m,E=b,U=b*P):(P=m/g,U=b,E=b*P),{bgWidth:U,bgHeight:E,offsetX:(U-b)/2,offsetY:(E-b)/2}});let f;const u=()=>{clearTimeout(f),f=setTimeout(()=>{const{width:g,height:m}=o.parentElement.getBoundingClientRect();r("containerSide",Math.min(g,m)),Promise.resolve().then(()=>o==null?void 0:o.classList.add("animate-[animate-pop_1s]"))},100)};Ut(()=>{window.addEventListener("resize",u),screen.orientation.addEventListener("change",u),Q(()=>{screen.orientation.removeEventListener("change",u),window.removeEventListener("resize",u)})});function h(g,m){const b=m%t().cols,P=Math.floor(m/t().rows),{bgWidth:E,bgHeight:U,offsetX:Te,offsetY:qe}=c();return{"background-image":"var(--bg)","background-size":`${E}px ${U}px`,"background-position":`left ${b*-(n.containerSide/t().cols)-Te}px top ${P*-Math.floor(n.containerSide/t().rows)-qe}px`,transform:`${a()?"":"scale(0.75)"} rotate(calc(90deg * ${g}))`,"-webkit-tap-highlight-color":"transparent"}}function p(g,m){r("tiles",g,b=>b+m)}let S;function L(){let g=0;clearInterval(S),S=setInterval(()=>{for(;Math.abs(n.tiles[g])%4===0;)g=(g+1)%n.tiles.length;const m=n.tiles[g]%4;p(g,Math.abs(m)>2?1:-1),a()&&clearInterval(S)},Math.min(1e3,3e3/n.tiles.reduce((m,b)=>m+Math.abs(b%4),0)))}let A,M;ce(()=>{if(!a())return;const g=Date.now()+1e3;function m(){Ce({particleCount:2,angle:60,spread:55,origin:{x:0}}),Ce({particleCount:2,angle:120,spread:55,origin:{x:1}}),Date.now()<g&&(A=requestAnimationFrame(m))}M=setTimeout(m,500)}),Q(()=>{cancelAnimationFrame(A),Ce.reset(),clearInterval(S),clearTimeout(M)});const y=new Intl.DateTimeFormat("en",{minute:"numeric",second:"numeric"});return v(tt,{class:"flex-1",get children(){return[(()=>{const g=as();return g.addEventListener("load",u),Ee(m=>{i=m},g),H(()=>me(g,"src",e.image)),g})(),v(ge,{when:i,get fallback(){return us()},get children(){return[v(Mt,{gap:5,class:"m-3",items:"center",justify:"center",get children(){return[v(fe,{get onClick(){return e.onReset},children:"← Back"}),v(Pe,{level:3,get children(){return y.format(new Date(n.current.getTime()-n.start.getTime()))}}),v(fe,{onClick:L,children:"Solve"})]}}),(()=>{const g=ls(),m=g.firstChild;return Ee(b=>{o=b},m),z(m,v(qn,{get each(){return n.tiles},children:(b,P)=>(()=>{const E=fs();return Fe(E,ie({get disabled(){return!!a()},get classList(){return{"border-transparent":a(),"shadow-xl":!a()}},get style(){return h(b(),P)}},()=>({["ontouchstart"in window?"onTouchStart":"onClick"]:U=>{U.preventDefault(),p(P,U.shiftKey?-1:1)}})),!1,!1),E})()})),H(b=>{const P=`${n.containerSide}px`,E=`url(${e.image})`,U=`repeat(${t().cols}, minmax(0, 1fr))`;return P!==b._v$&&((b._v$=P)!=null?m.style.setProperty("height",P):m.style.removeProperty("height")),E!==b._v$2&&((b._v$2=E)!=null?m.style.setProperty("--bg",E):m.style.removeProperty("--bg")),U!==b._v$3&&((b._v$3=U)!=null?m.style.setProperty("grid-template-columns",U):m.style.removeProperty("grid-template-columns")),b},{_v$:void 0,_v$2:void 0,_v$3:void 0}),g})()]}}),v(ge,{get when(){return a()},get children(){const g=cs(),m=g.firstChild,b=m.firstChild;return g.style.setProperty("animation-fill-mode","forwards"),z(m,v(Pe,{level:2,children:"You Won!"}),null),z(m,v(Pe,{level:4,get children(){return`Time ellapsed: ${y.format(new Date(n.current.getTime()-n.start.getTime()))}`}}),null),z(m,v(fe,{class:"m-auto block text-xl font-normal",onClick:()=>e.onReset(),children:"Play Again"}),null),H(()=>me(b,"src",e.image)),g}})]}})};class hs{constructor(t=[],n=gs){if(this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:n,compare:r}=this,s=n[t];for(;t>0;){const o=t-1>>1,i=n[o];if(r(s,i)>=0)break;n[t]=i,t=o}n[t]=s}_down(t){const{data:n,compare:r}=this,s=this.length>>1,o=n[t];for(;t<s;){let i=(t<<1)+1,a=n[i];const c=i+1;if(c<this.length&&r(n[c],a)<0&&(i=c,a=n[c]),r(a,o)>=0)break;n[t]=a,t=i}n[t]=o}}function gs(e,t){return e<t?-1:e>t?1:0}const _e=(e,t)=>[e%t,Math.floor(e/t)],pn=(e,t,n)=>([e[t],e[n]]=[e[n],e[t]],e),vt=e=>e.reduce((t,n,r)=>n===r||n===e.length?t:t+1,0),ms=(e,t)=>{const[n,r]=_e(e,t),s=[];return n>0&&s.push(e-1),r>0&&s.push(e-t),n<t-1&&s.push(e+1),r<t-1&&s.push(e+t),s};function ps(e){const t=Math.sqrt(e.length);return e.reduce((n,r,s)=>{const[o,i]=_e(r,t),[a,c]=_e(s,t);return n+Math.abs(o-a)+Math.abs(i-c)},0)}class Ct{constructor(t,n,r){he(this,"previous");he(this,"action");he(this,"state");he(this,"g");he(this,"h");he(this,"score");he(this,"cols");this.state=t,this.previous=n,this.action=r,this.cols=(n==null?void 0:n.cols)??Math.sqrt(t.length),this.g=n?n.g+1:0,this.h=ps(t),this.score=this.g+this.h}*computeAvailableMovements(){const t=this.state.length-1,n=this.state.indexOf(t);for(const r of ms(n,this.cols)){const s=pn([...this.state],n,r);yield new Ct(s,this,r)}}get availableMovements(){return this.computeAvailableMovements()}get path(){const t=[];for(let n=this;n.previous;n=n.previous)t.unshift(n.action);return t}get misplacedCount(){return vt(this.state)}toString(){return this.state.toString()}}function ys(e){const t=new hs([new Ct(e)],(r,s)=>r.score-s.score),n=new Set([t.peek().toString()]);for(;t.length>0;){const r=t.pop();if(r.misplacedCount===0)return r.path;for(const s of r.availableMovements)n.has(s.toString())||(n.add(s.toString()),t.push(s))}return null}function bs(e){let t=0;for(let n=0;n<e.length;n++){if(e[n]===e.length-1)continue;const r=e[n];for(let s=n+1;s<e.length;s++)e[s]!==e.length-1&&r>e[s]&&t++}return t}function vs(e){const t=Math.sqrt(e.length),n=bs(e);return t%2===1?n%2===0:(t-Math.floor(e.indexOf(e.length-1)/t))%2===0?n%2===1:n%2===0}const ws=W("<img hidden>"),Ss=W('<div class="flex flex-1 flex-col items-center justify-center overflow-hidden"><div class="grid aspect-square items-center justify-center overflow-hidden transition-[height]">'),xs=W('<div class="absolute inset-0 grid h-full w-full animate-[1s_fade-in_500ms] place-content-center font-bold opacity-0 backdrop-blur-lg"><div><img class="m-auto w-1/2 animate-[1s_animate-pop_500ms] shadow-xl">'),Ps=W('<div class="grid h-full place-content-center">Loading...'),$s=W('<button type=button class="box-content aspect-square appearance-none border bg-no-repeat transition-[transform,shadow] duration-300">');document.startViewTransition=document.startViewTransition||(e=>e());const Ms=e=>{const t=I(()=>{const y=e.tiles||9,g=Math.sqrt(y);return{rows:g,cols:g,tiles:y}}),[n,r]=st({tiles:[],containerSide:0,start:new Date,current:new Date,emptySlot:0,solving:!1,solutionLength:null});ce(()=>{let y;do y=Array.from({length:t().rows*t().cols},(g,m)=>m).sort(()=>Math.random()-.5);while(vt(y)<y.length||!vs(y));r("tiles",y),r("emptySlot",y.length-1)});const s=setInterval(()=>r("current",new Date),1e3);Q(()=>clearInterval(s)),ce(()=>{a()&&clearInterval(s)});let o,i=null;const a=I(()=>vt(n.tiles)===0),c=I(()=>{const{naturalWidth:y,naturalHeight:g}=i||{naturalWidth:0,naturalHeight:0},m=n.containerSide;let b,P,E;return y>g?(b=y/g,P=m,E=m*b):(b=g/y,E=m,P=m*b),{bgWidth:E,bgHeight:P,offsetX:(E-m)/2,offsetY:(P-m)/2}});let f;const u=()=>{clearTimeout(f),f=setTimeout(()=>{const{width:y,height:g}=o.parentElement.getBoundingClientRect();r("containerSide",Math.min(y,g)),Promise.resolve().then(()=>o==null?void 0:o.classList.add("animate-[animate-pop_1s]"))},100)};Ut(()=>{window.addEventListener("resize",u),screen.orientation.addEventListener("change",u),Q(()=>{screen.orientation.removeEventListener("change",u),window.removeEventListener("resize",u)})});function h(y){const[g,m]=_e(y,t().cols),{bgWidth:b,bgHeight:P,offsetX:E,offsetY:U}=c();return{"view-transition-name":"tile-"+y,"background-image":"var(--bg)","background-size":`${b}px ${P}px`,"background-position":`left ${g*-(n.containerSide/t().cols)-E}px top ${m*-Math.floor(n.containerSide/t().rows)-U}px`,"-webkit-tap-highlight-color":"transparent"}}function p(y){const g=n.tiles.indexOf(n.emptySlot),[m,b]=_e(g,t().cols),[P,E]=_e(y,t().cols);switch(!0){case m===P:if(Math.abs(b-E)!==1)return;break;case b===E:if(Math.abs(m-P)!==1)return;break;default:return!0}document.startViewTransition(()=>{r("tiles",pn(n.tiles.slice(0),g,y))})}let S;ce(()=>{if(!n.solving){clearInterval(S);return}Y(()=>{const y=ys(n.tiles);if(!y){r("solving",!1);return}r("solutionLength",y.length),clearInterval(S),S=setInterval(()=>{y.length&&p(y.shift()),r("solutionLength",y.length),y.length||r("solving",!1)},Math.min(1e3,3e3/n.tiles.reduce((g,m)=>g+Math.abs(m%4),0)))})});let L,A;ce(()=>{if(!a())return;const y=Date.now()+1e3;function g(){Ce({particleCount:2,angle:60,spread:55,origin:{x:0}}),Ce({particleCount:2,angle:120,spread:55,origin:{x:1}}),Date.now()<y&&(L=requestAnimationFrame(g))}A=setTimeout(g,500)}),Q(()=>{cancelAnimationFrame(L),Ce.reset(),clearInterval(S),clearTimeout(A)});const M=new Intl.DateTimeFormat("en",{minute:"numeric",second:"numeric"});return v(tt,{class:"flex-1",get children(){return[(()=>{const y=ws();return y.addEventListener("load",u),Ee(g=>{i=g},y),H(()=>me(y,"src",e.image)),y})(),v(ge,{when:i,get fallback(){return Ps()},get children(){return[v(Mt,{gap:5,class:"m-3",items:"center",justify:"center",get children(){return[v(fe,{get onClick(){return e.onReset},children:"← Back"}),v(Pe,{level:3,get children(){return M.format(new Date(n.current.getTime()-n.start.getTime()))}}),v(fe,{onClick:()=>r("solving",y=>!y),get children(){return n.solving?`Solving... (${n.solutionLength} movements to go)`:"Solve"}})]}}),(()=>{const y=Ss(),g=y.firstChild;return Ee(m=>{o=m},g),z(g,v(Ze,{get each(){return n.tiles},children:(m,b)=>(()=>{const P=$s();return Fe(P,ie({get disabled(){return!!a()},get classList(){return{"border-transparent":a(),"shadow-xl":!a(),"opacity-0":m===n.emptySlot}},get style(){return h(m)}},()=>({["ontouchstart"in window?"onTouchStart":"onClick"]:E=>{E.preventDefault(),p(b())}})),!1,!1),P})()})),H(m=>{const b=`${n.containerSide}px`,P=`url(${e.image})`,E=`repeat(${t().cols}, minmax(0, 1fr))`;return b!==m._v$&&((m._v$=b)!=null?g.style.setProperty("height",b):g.style.removeProperty("height")),P!==m._v$2&&((m._v$2=P)!=null?g.style.setProperty("--bg",P):g.style.removeProperty("--bg")),E!==m._v$3&&((m._v$3=E)!=null?g.style.setProperty("grid-template-columns",E):g.style.removeProperty("grid-template-columns")),m},{_v$:void 0,_v$2:void 0,_v$3:void 0}),y})()]}}),v(ge,{get when(){return a()},get children(){const y=xs(),g=y.firstChild,m=g.firstChild;return y.style.setProperty("animation-fill-mode","forwards"),z(g,v(Pe,{level:2,children:"You Won!"}),null),z(g,v(Pe,{level:4,get children(){return`Time ellapsed: ${M.format(new Date(n.current.getTime()-n.start.getTime()))}`}}),null),z(g,v(fe,{class:"m-auto block text-xl font-normal",onClick:()=>e.onReset(),children:"Play Again"}),null),H(()=>me(m,"src",e.image)),y}})]}})};function As(){Yr(r=>{document.startViewTransition&&(r.preventDefault(),document.startViewTransition(()=>{r.retry(!0)}))});const e=At(),[t,n]=st({mode:"rotate",file:null,level:3});return v(ss,{get children(){return[v(ft,{path:"/setup",component:()=>v(jr,{initialSetup:t,onSubmit:r=>{n(r),e(`/${r.mode}`)}})}),I(()=>I(()=>!!t.file)()&&[v(ft,{path:"/rotate",component:()=>v(ds,{get tiles(){return t.level**2},get image(){return URL.createObjectURL(t.file)},onReset:()=>{e("/setup")}})}),v(ft,{path:"/slide",component:()=>v(Ms,{get tiles(){return t.level**2},get image(){return URL.createObjectURL(t.file)},onReset:()=>{e("/setup")}})})]),v(is,{href:"/setup"})]}})}const Cs=document.getElementById("root");Jn(()=>v(rs,{get source(){return Vr()},get children(){return v(As,{})}}),Cs)});export default _s();
