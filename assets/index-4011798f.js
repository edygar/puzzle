var An=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Mi=An((Ei,De)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const $n=(e,t)=>e===t,re=Symbol("solid-proxy"),Oe=Symbol("solid-track"),We={equals:$n};let Dt=Gt;const ge=1,Ue=2,Bt={owned:null,cleanups:null,context:null,owner:null};var I=null;let ot=null,N=null,Y=null,ce=null,Je=0;function we(e,t){const n=N,r=I,i=e.length===0,s=t===void 0?r:t,o=i?Bt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=i?e:()=>e(()=>K(()=>et(o)));I=o,N=null;try{return me(a,!0)}finally{N=n,I=r}}function Q(e,t){t=t?Object.assign({},We,t):We;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Ht(n,i));return[zt.bind(n),r]}function z(e,t,n){const r=xt(e,t,!1,ge);je(r)}function de(e,t,n){Dt=kn;const r=xt(e,t,!1,ge);(!n||!n.render)&&(r.user=!0),ce?ce.push(r):je(r)}function k(e,t,n){n=n?Object.assign({},We,n):We;const r=xt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,je(r),zt.bind(r)}function Cn(e){return me(e,!1)}function K(e){if(N===null)return e();const t=N;N=null;try{return e()}finally{N=t}}function Vt(e,t,n){const r=Array.isArray(e);let i,s=n&&n.defer;return o=>{let a;if(r){a=Array(e.length);for(let f=0;f<e.length;f++)a[f]=e[f]()}else a=e();if(s){s=!1;return}const l=K(()=>t(a,i,o));return i=a,l}}function qt(e){de(()=>K(e))}function J(e){return I===null||(I.cleanups===null?I.cleanups=[e]:I.cleanups.push(e)),e}function ft(){return N}function Mn(){return I}function _n(e,t){const n=I,r=N;I=e,N=null;try{return me(t,!0)}catch(i){St(i)}finally{I=n,N=r}}function Wt(e){const t=N,n=I;return Promise.resolve().then(()=>{N=t,I=n;let r;return me(e,!1),N=I=null,r?r.done:void 0})}const[Ln,Li]=Q(!1);function En(){return[Ln,Wt]}function Ut(e,t){const n=Symbol("context");return{id:n,Provider:In(n),defaultValue:e}}function bt(e){return I&&I.context&&I.context[e.id]!==void 0?I.context[e.id]:e.defaultValue}function wt(e){const t=k(e),n=k(()=>dt(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function zt(){if(this.sources&&this.state)if(this.state===ge)je(this);else{const e=Y;Y=null,me(()=>He(this),!1),Y=e}if(N){const e=this.observers?this.observers.length:0;N.sources?(N.sources.push(this),N.sourceSlots.push(e)):(N.sources=[this],N.sourceSlots=[e]),this.observers?(this.observers.push(N),this.observerSlots.push(N.sources.length-1)):(this.observers=[N],this.observerSlots=[N.sources.length-1])}return this.value}function Ht(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&me(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],o=ot&&ot.running;o&&ot.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?Y.push(s):ce.push(s),s.observers&&Kt(s)),o||(s.state=ge)}if(Y.length>1e6)throw Y=[],new Error},!1)),t}function je(e){if(!e.fn)return;et(e);const t=Je;Tn(e,e.value,t)}function Tn(e,t,n){let r;const i=I,s=N;N=I=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=ge,e.owned&&e.owned.forEach(et),e.owned=null),e.updatedAt=n+1,St(o)}finally{N=s,I=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ht(e,r):e.value=r,e.updatedAt=n)}function xt(e,t,n,r=ge,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:I,context:I?I.context:null,pure:n};return I===null||I!==Bt&&(I.owned?I.owned.push(s):I.owned=[s]),s}function ze(e){if(e.state===0)return;if(e.state===Ue)return He(e);if(e.suspense&&K(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Je);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===ge)je(e);else if(e.state===Ue){const r=Y;Y=null,me(()=>He(e,t[0]),!1),Y=r}}function me(e,t){if(Y)return e();let n=!1;t||(Y=[]),ce?n=!0:ce=[],Je++;try{const r=e();return On(n),r}catch(r){n||(ce=null),Y=null,St(r)}}function On(e){if(Y&&(Gt(Y),Y=null),e)return;const t=ce;ce=null,t.length&&me(()=>Dt(t),!1)}function Gt(e){for(let t=0;t<e.length;t++)ze(e[t])}function kn(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:ze(r)}for(t=0;t<n;t++)ze(e[t])}function He(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===ge?r!==t&&(!r.updatedAt||r.updatedAt<Je)&&ze(r):i===Ue&&He(r,t)}}}function Kt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ue,n.pure?Y.push(n):ce.push(n),n.observers&&Kt(n))}}function et(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)et(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Rn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function St(e,t=I){throw Rn(e)}function dt(e){if(typeof e=="function"&&!e.length)return dt(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=dt(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function In(e,t){return function(r){let i;return z(()=>i=K(()=>(I.context={...I.context,[e]:r.value},wt(()=>r.children))),void 0),i}}const ht=Symbol("fallback");function Ge(e){for(let t=0;t<e.length;t++)e[t]()}function jn(e,t,n={}){let r=[],i=[],s=[],o=0,a=t.length>1?[]:null;return J(()=>Ge(s)),()=>{let l=e()||[],f,u;return l[Oe],K(()=>{let m=l.length,b,C,S,P,F,p,g,y,w;if(m===0)o!==0&&(Ge(s),s=[],r=[],i=[],o=0,a&&(a=[])),n.fallback&&(r=[ht],i[0]=we(L=>(s[0]=L,n.fallback())),o=1);else if(o===0){for(i=new Array(m),u=0;u<m;u++)r[u]=l[u],i[u]=we(h);o=m}else{for(S=new Array(m),P=new Array(m),a&&(F=new Array(m)),p=0,g=Math.min(o,m);p<g&&r[p]===l[p];p++);for(g=o-1,y=m-1;g>=p&&y>=p&&r[g]===l[y];g--,y--)S[y]=i[g],P[y]=s[g],a&&(F[y]=a[g]);for(b=new Map,C=new Array(y+1),u=y;u>=p;u--)w=l[u],f=b.get(w),C[u]=f===void 0?-1:f,b.set(w,u);for(f=p;f<=g;f++)w=r[f],u=b.get(w),u!==void 0&&u!==-1?(S[u]=i[f],P[u]=s[f],a&&(F[u]=a[f]),u=C[u],b.set(w,u)):s[f]();for(u=p;u<m;u++)u in S?(i[u]=S[u],s[u]=P[u],a&&(a[u]=F[u],a[u](u))):i[u]=we(h);i=i.slice(0,o=m),r=l.slice(0)}return i});function h(m){if(s[u]=m,a){const[b,C]=Q(u);return a[u]=C,t(l[u],b)}return t(l[u])}}}function Nn(e,t,n={}){let r=[],i=[],s=[],o=[],a=0,l;return J(()=>Ge(s)),()=>{const f=e()||[];return f[Oe],K(()=>{if(f.length===0)return a!==0&&(Ge(s),s=[],r=[],i=[],a=0,o=[]),n.fallback&&(r=[ht],i[0]=we(h=>(s[0]=h,n.fallback())),a=1),i;for(r[0]===ht&&(s[0](),s=[],r=[],i=[],a=0),l=0;l<f.length;l++)l<r.length&&r[l]!==f[l]?o[l](()=>f[l]):l>=r.length&&(i[l]=we(u));for(;l<r.length;l++)s[l]();return a=o.length=s.length=f.length,r=f.slice(0),i=i.slice(0,a)});function u(h){s[l]=h;const[m,b]=Q(f[l]);return o[l]=b,t(m,l)}}}function v(e,t){return K(()=>e(t||{}))}function Ve(){return!0}const gt={get(e,t,n){return t===re?n:e.get(t)},has(e,t){return t===re?!0:e.has(t)},set:Ve,deleteProperty:Ve,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ve,deleteProperty:Ve}},ownKeys(e){return e.keys()}};function at(e){return(e=typeof e=="function"?e():e)?e:{}}function Fn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function oe(...e){let t=!1;for(let s=0;s<e.length;s++){const o=e[s];t=t||!!o&&re in o,e[s]=typeof o=="function"?(t=!0,k(o)):o}if(t)return new Proxy({get(s){for(let o=e.length-1;o>=0;o--){const a=at(e[o])[s];if(a!==void 0)return a}},has(s){for(let o=e.length-1;o>=0;o--)if(s in at(e[o]))return!0;return!1},keys(){const s=[];for(let o=0;o<e.length;o++)s.push(...Object.keys(at(e[o])));return[...new Set(s)]}},gt);const n={},r={},i=new Set;for(let s=e.length-1;s>=0;s--){const o=e[s];if(!o)continue;const a=Object.getOwnPropertyNames(o);for(let l=0,f=a.length;l<f;l++){const u=a[l];if(u==="__proto__"||u==="constructor")continue;const h=Object.getOwnPropertyDescriptor(o,u);if(!i.has(u))h.get?(i.add(u),Object.defineProperty(n,u,{enumerable:!0,configurable:!0,get:Fn.bind(r[u]=[h.get.bind(o)])})):(h.value!==void 0&&i.add(u),n[u]=h.value);else{const m=r[u];m?h.get?m.push(h.get.bind(o)):h.value!==void 0&&m.push(()=>h.value):n[u]===void 0&&(n[u]=h.value)}}}return n}function xe(e,...t){if(re in e){const i=new Set(t.length>1?t.flat():t[0]),s=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},gt));return s.push(new Proxy({get(o){return i.has(o)?void 0:e[o]},has(o){return i.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!i.has(o))}},gt)),s}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let a=!1,l=0;for(const f of t)f.includes(i)&&(a=!0,o?r[l][i]=s.value:Object.defineProperty(r[l],i,s)),++l;a||(o?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}const Dn=e=>`Stale read from <${e}>.`;function Ke(e){const t="fallback"in e&&{fallback:()=>e.fallback};return k(jn(()=>e.each,e.children,t||void 0))}function Bn(e){const t="fallback"in e&&{fallback:()=>e.fallback};return k(Nn(()=>e.each,e.children,t||void 0))}function Pe(e){const t=e.keyed,n=k(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return k(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?K(()=>i(t?r:()=>{if(!K(n))throw Dn("Show");return e.when})):i}return e.fallback},void 0,void 0)}const Vn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],qn=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Vn]),Wn=new Set(["innerHTML","textContent","innerText","children"]),Un=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),zn=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Hn(e,t){const n=zn[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Gn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Kn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Xn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Yn(e,t,n){let r=n.length,i=t.length,s=r,o=0,a=0,l=t[i-1].nextSibling,f=null;for(;o<i||a<s;){if(t[o]===n[a]){o++,a++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===o){const u=s<r?a?n[a-1].nextSibling:n[s-a]:l;for(;a<s;)e.insertBefore(n[a++],u)}else if(s===a)for(;o<i;)(!f||!f.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[s-1]&&n[a]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--s],u),t[i]=n[s]}else{if(!f){f=new Map;let h=a;for(;h<s;)f.set(n[h],h++)}const u=f.get(t[o]);if(u!=null)if(a<u&&u<s){let h=o,m=1,b;for(;++h<i&&h<s&&!((b=f.get(t[h]))==null||b!==u+m);)m++;if(m>u-a){const C=t[o];for(;a<u;)e.insertBefore(n[a++],C)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const Lt="_$DX_DELEGATE";function Zn(e,t,n,r={}){let i;return we(s=>{i=s,t===document?e():G(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function U(e,t,n){let r;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:o.content.firstChild},s=t?()=>K(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return s.cloneNode=s,s}function Pt(e,t=window.document){const n=t[Lt]||(t[Lt]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,rr))}}function he(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Qn(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function Jn(e,t){t==null?e.removeAttribute("class"):e.className=t}function er(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=s=>i.call(e,n[1],s))}else e.addEventListener(t,n)}function Xt(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const a=i[s];!a||a==="undefined"||t[a]||(Et(e,a,!1),delete n[a])}for(s=0,o=r.length;s<o;s++){const a=r[s],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(Et(e,a,!0),n[a]=l)}return n}function Yt(e,t,n){if(!t)return n?he(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function Ne(e,t={},n,r){const i={};return r||z(()=>i.children=Le(e,t.children,i.children)),z(()=>t.ref&&t.ref(e)),z(()=>tr(e,t,n,!0,i,!0)),i}function _e(e,t,n){return K(()=>e(t,n))}function G(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Le(e,t,r,n);z(i=>Le(e,t(),i,n),r)}function tr(e,t,n,r,i={},s=!1){t||(t={});for(const o in i)if(!(o in t)){if(o==="children")continue;i[o]=Tt(e,o,null,i[o],n,s)}for(const o in t){if(o==="children"){r||Le(e,t.children);continue}const a=t[o];i[o]=Tt(e,o,a,i[o],n,s)}}function nr(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Et(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function Tt(e,t,n,r,i,s){let o,a,l,f,u;if(t==="style")return Yt(e,n,r);if(t==="classList")return Xt(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);r&&e.removeEventListener(h,r),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);r&&e.removeEventListener(h,r,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),m=Gn.has(h);if(!m&&r){const b=Array.isArray(r)?r[0]:r;e.removeEventListener(h,b)}(m||n)&&(er(e,h,n,m),m&&Pt([h]))}else if(t.slice(0,5)==="attr:")he(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(l=Wn.has(t))||!i&&((f=Hn(t,e.tagName))||(a=qn.has(t)))||(o=e.nodeName.includes("-")))u&&(t=t.slice(5),a=!0),t==="class"||t==="className"?Jn(e,n):o&&!a&&!l?e[nr(t)]=n:e[f||t]=n;else{const h=i&&t.indexOf(":")>-1&&Xn[t.split(":")[0]];h?Qn(e,h,t,n):he(e,Un[t]||t,n)}return n}function rr(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Le(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),o){let a=n[0];a&&a.nodeType===3?a.data=t:a=document.createTextNode(t),n=$e(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=$e(e,n,r);else{if(s==="function")return z(()=>{let a=t();for(;typeof a=="function";)a=a();n=Le(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(mt(a,t,n,i))return z(()=>n=Le(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=$e(e,n,r),o)return n}else l?n.length===0?Ot(e,a,r):Yn(e,n,a):(n&&$e(e),Ot(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=$e(e,n,r,t);$e(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function mt(e,t,n,r){let i=!1;for(let s=0,o=t.length;s<o;s++){let a=t[s],l=n&&n[s],f;if(!(a==null||a===!0||a===!1))if((f=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=mt(e,a,l)||i;else if(f==="function")if(r){for(;typeof a=="function";)a=a();i=mt(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else e.push(a),i=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return i}function Ot(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function $e(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(i!==a){const l=a.parentNode===e;!s&&!o?l?e.replaceChild(i,a):e.insertBefore(i,n):l&&a.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}const ir=!1,sr="http://www.w3.org/2000/svg";function or(e,t=!1){return t?document.createElementNS(sr,e):document.createElement(e)}function ar(e){const[t,n]=xe(e,["component"]),r=k(()=>t.component);return k(()=>{const i=r();switch(typeof i){case"function":return K(()=>i(n));case"string":const s=Kn.has(i),o=or(i,s);return Ne(o,n,s),o}})}const pt=Symbol("store-raw"),Ce=Symbol("store-node"),le=Symbol("store-has"),Zt=Symbol("store-self");function Qt(e){let t=e[re];if(!t&&(Object.defineProperty(e,re,{value:t=new Proxy(e,ur)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,s=n.length;i<s;i++){const o=n[i];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function Xe(e){let t;return e!=null&&typeof e=="object"&&(e[re]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ke(e,t=new Set){let n,r,i,s;if(n=e!=null&&e[pt])return n;if(!Xe(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,a=e.length;o<a;o++)i=e[o],(r=ke(i,t))!==i&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,f=o.length;l<f;l++)s=o[l],!a[s].get&&(i=e[s],(r=ke(i,t))!==i&&(e[s]=r))}return e}function Ye(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Re(e,t,n){if(e[t])return e[t];const[r,i]=Q(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function lr(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===re||t===Ce||(delete n.value,delete n.writable,n.get=()=>e[re][t]),n}function Jt(e){ft()&&Re(Ye(e,Ce),Zt)()}function cr(e){return Jt(e),Reflect.ownKeys(e)}const ur={get(e,t,n){if(t===pt)return e;if(t===re)return n;if(t===Oe)return Jt(e),n;const r=Ye(e,Ce),i=r[t];let s=i?i():e[t];if(t===Ce||t===le||t==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(e,t);ft()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(s=Re(r,t,s)())}return Xe(s)?Qt(s):s},has(e,t){return t===pt||t===re||t===Oe||t===Ce||t===le||t==="__proto__"?!0:(ft()&&Re(Ye(e,le),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:cr,getOwnPropertyDescriptor:lr};function Ze(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],s=e.length;n===void 0?(delete e[t],e[le]&&e[le][t]&&i!==void 0&&e[le][t].$()):(e[t]=n,e[le]&&e[le][t]&&i===void 0&&e[le][t].$());let o=Ye(e,Ce),a;if((a=Re(o,t,i))&&a.$(()=>n),Array.isArray(e)&&e.length!==s){for(let l=e.length;l<s;l++)(a=o[l])&&a.$();(a=Re(o,"length",s))&&a.$(e.length)}(a=o[Zt])&&a.$()}function en(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Ze(e,i,t[i])}}function fr(e,t){if(typeof t=="function"&&(t=t(e)),t=ke(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Ze(e,n,i)}Ze(e,"length",r)}else en(e,t)}function Ee(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const o=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Ee(e,[r[l]].concat(t),n);return}else if(a&&o==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&Ee(e,[l].concat(t),n);return}else if(a&&o==="object"){const{from:l=0,to:f=e.length-1,by:u=1}=r;for(let h=l;h<=f;h+=u)Ee(e,[h].concat(t),n);return}else if(t.length>1){Ee(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let s=t[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=ke(s),r===void 0||Xe(i)&&Xe(s)&&!Array.isArray(s)?en(i,s):Ze(e,r,s))}function tt(...[e,t]){const n=ke(e||{}),r=Array.isArray(n),i=Qt(n);function s(...o){Cn(()=>{r&&o.length===1?fr(n,o[0]):Ee(n,o)})}return[i,s]}const yt=Symbol.for("tw-classed.vars"),dr=e=>e.filter(Boolean).join(" "),kt=(e,t)=>typeof t=="boolean"||!t?e:e?e+" "+t:t,hr=e=>{let t=[],n={},r={},i=[],s=new Set,o={};for(const a of e)if(a){if(typeof a=="string"){t.push(a);continue}if(typeof a=="object"||typeof a=="function"){const l=Reflect.has(a,yt)?Reflect.get(a,yt):a;l.variants&&Object.assign(n,l.variants),l.defaultVariants&&Object.assign(r,l.defaultVariants),l.compoundVariants&&l.compoundVariants.forEach(f=>i.push(f)),l.className&&t.push(l.className),l.base&&t.push(l.base),l.dataAttributes&&l.dataAttributes.forEach(f=>{s.add(f)}),l.defaultProps&&Object.assign(o,l.defaultProps)}}return{className:dr(t),variants:n,defaultVariants:r,compoundVariants:i,dataAttributes:Array.from(s),defaultProps:o}},gr=(e,t,{defaultVariants:n})=>{var r;const i=t[e];return(i==null?void 0:i.toString())||(n==null||(r=n[e])==null?void 0:r.toString())},mr=({variants:e,defaultVariants:t,compoundVariants:n},r={},i=!1)=>{const s=new Set,o=Object.keys(e).reduce((l,f)=>{const u=gr(f,r,{defaultVariants:t});if(!u)return l;i&&s.add(f);const h=e[f][u];return h?kt(l,h):l},""),a=pr({props:r,defaultVariants:t},n);return i&&s.forEach(l=>delete r[l]),kt(o,a==null?void 0:a.join(" "))};function pr({props:e,defaultVariants:t},n=[]){return n.reduce((r,{class:i,className:s,...o})=>(Object.entries(o).some(([l,f])=>{const u=e[l],h=u!==void 0?u:t==null?void 0:t[l];return Array.isArray(f)?!f.includes(h):h!==f})||(i&&r.push(i),s&&r.push(s)),r),[])}const tn=Symbol.for("tw-classed.component"),Rt=e=>(typeof e=="object"||typeof e=="function")&&Reflect.has(e,tn),yr=(...e)=>e.filter(Boolean).join(" "),vr=(e,t,{merger:n=yr}={})=>{const{className:r,variants:i,defaultVariants:s,compoundVariants:o}=hr(t),a=Object.keys(i),l=f=>{const[u,h]=xe(f,["as","class"]),[,m]=xe(h,a),b=Rt(e)?e:u.as||e,C=k(()=>{const[P]=xe(f,a);return mr({variants:i,defaultVariants:s,compoundVariants:o},P,!0)}),S=k(()=>n(r,u.class,C()));return v(ar,oe({component:b,get class(){return S()}},m,{get as(){return Rt(e)?u.as:void 0}}))};return Reflect.set(l,yt,{className:r,variants:i,defaultVariants:s}),Reflect.set(l,tn,!0),l},br=e=>{const t=(r,...i)=>vr(r,i,e);return{classed:new Proxy(t,{get:(r,i)=>function(...s){return t.apply(this,[i,...s])}})}},Fe=br({}).classed,wr=Fe.h1("my-3 [text-shadow:_0_2px_5px_rgba(0,0,0,.5)] text-center text-white",{variants:{level:{6:"text-md",5:"text-lg",4:"text-xl",3:"text-2xl",2:"text-4xl",1:"text-6xl"}}}),Se=e=>v(wr,oe({get as(){return`h${e.level||1}`}},e)),xr=U('<div class="m-auto grid aspect-square shadow">'),Sr=U('<button type=button class="border border-white bg-white/70">');function Pr(e){const[t,n]=Q(0);return de(()=>{const r=e.tiles,i=setInterval(n,1e3,()=>Math.floor(Math.random()*r));J(()=>clearInterval(i))}),(()=>{const r=xr();return r.style.setProperty("width","var(--w)"),r.style.setProperty("gap","calc(var(--w) / var(--tilesPerAxis) * 0.2)"),r.style.setProperty("grid-template-columns","repeat(var(--tilesPerAxis), minmax(0, 1fr))"),G(r,v(Ke,{get each(){return Array.from({length:e.tiles})},children:(i,s)=>(()=>{const o=Sr();return o.$$click=()=>n(s()),z(a=>{const l={"transition duration-300":s()===t()},f=s()===t()?{transform:"rotate(90deg)"}:{};return a._v$3=Xt(o,l,a._v$3),a._v$4=Yt(o,f,a._v$4),a},{_v$3:void 0,_v$4:void 0}),o})()})),z(i=>{const s=e.width??"80px",o=e.tiles**(1/2);return s!==i._v$&&((i._v$=s)!=null?r.style.setProperty("--w",s):r.style.removeProperty("--w")),o!==i._v$2&&((i._v$2=o)!=null?r.style.setProperty("--tilesPerAxis",o):r.style.removeProperty("--tilesPerAxis")),i},{_v$:void 0,_v$2:void 0}),r})()}Pt(["click"]);const ue=Fe.button("relative","appearance-none","px-4 py-2","bg-gray-50","rounded-full","cursor-pointer","select-none","[&:not(:disabled)]:active:translate-y-2","[&:not(:disabled)]:active:[box-shadow:0_0px_0_0_#999999,0_0px_0_0_#99999941]","[&:not(:disabled)]:active:border-transparent","transition-all","duration-150","[box-shadow:0_8px_0_0_#999999,0_13px_0_0_#99999941]","border-2","border-gray-300","focus-within:border-2","focus-within:border-current","disabled:text-gray-300","disabled:cursor-not-allowed"),Ar=U("<select>"),$r=U("<span class=opacity-40>"),It=e=>{const[t,n]=Q(""),[r,i]=xe(e,["name","form","disabled","required","autofocus","onChange","onInput","onReset"]);async function s(o){if(!o)return;const a=()=>{var l;n(((l=o.querySelector("option:checked"))==null?void 0:l.textContent)||"")};o.addEventListener("change",a),J(()=>{o.removeEventListener("change",a)}),Promise.resolve().then(a)}return v(ue,oe({as:"label",tabIndex:-1,class:"inline-flex items-center justify-between border-2 border-transparent after:ml-2 after:inline-block after:h-0 after:w-0 after:border-8 after:border-b-0 after:border-transparent after:border-t-current after:align-middle after:content-['']"},e,{get children(){return[(()=>{const o=Ar(),a=s;return typeof a=="function"?_e(a,o):s=o,Ne(o,oe(r,{id:"level",class:"absolute inset-0 opacity-0"}),!1,!0),G(o,()=>e.children),o})(),v(Pe,{get when(){return!!t()},get fallback(){return(()=>{const o=$r();return G(o,()=>e.placeholder),o})()},get children(){return t()}})]}}))},nn={items:{center:"items-center",start:"items-start",end:"items-end"},justify:{center:"justify-center",start:"justify-start",end:"justify-end",between:"justify-between",around:"justify-around"},gap:{0:"gap-0",1:"gap-1",2:"gap-2",3:"gap-3",4:"gap-4",5:"gap-5",6:"gap-6"}},Qe=Fe.div("flex flex-col",{variants:{...nn}}),At=Fe.div("flex flex-row",{variants:{...nn}}),jt=U("<span class=opacity-80>"),Cr=U('<input type=file class="absolute inset-0 opacity-0">'),Mr=e=>{const[t,n]=Q(null),r=oe({placeholder:"Choose a file…",label:f=>Array.from([...f],u=>u.name).join(", ")},e),[i,s]=xe(r,["name","accept","autofocus","disabled","form","multiple","onChange","onInput","onReset","required","size"]),[,o]=xe(s,["label","value"]);function a(){const f=t(),u=r.label;return typeof u=="function"?f!==null&&[...f].length?u(f):(()=>{const h=jt();return G(h,()=>r.placeholder),h})():u||(()=>{const h=jt();return G(h,()=>r.placeholder),h})()}function l(f){if(!f)return;r.defaultValue&&(f.files=r.defaultValue,n(r.defaultValue));const u=()=>{n(f.files)};f.addEventListener("change",u),J(()=>{f.removeEventListener("change",u)})}return v(ue,oe({as:"label"},o,{get children(){return[k(()=>a()),(()=>{const f=Cr(),u=l;return typeof u=="function"?_e(u,f):l=f,Ne(f,i,!1,!1),f})()]}}))},_r=U("<option value=rotate>Rotate"),Lr=U("<option value=slide>Slide"),Er=U("<option>Difficulty: <!> (<!>x<!>)"),Tr=U('<img alt="Preview of the game theme"class="h-[1em] object-scale-down">'),Or=U('<span>"<!>"'),kr={Easy:2,Regular:3,Hard:5,Expert:10},Rr=Fe.form("grid flex-1 items-center justify-center");function Ir(e){const t=oe({initialSetup:{file:null,level:3,mode:"rotate"}},e),[n,r]=tt({file:t.initialSetup.file,level:t.initialSetup.level,mode:t.initialSetup.mode}),[i,s]=Q(!1);function o(f){r("level",parseInt(f.target.value,10))}function a(){if(!t.initialSetup.file)return null;const f=new DataTransfer;return f.items.add(t.initialSetup.file),f.files}function l(f){f!==null&&f.checkValidity()&&s(!0)}return v(Rr,{ref(f){const u=l;typeof u=="function"?u(f):l=f},onChange:f=>{var u;(u=f.target.form)!=null&&u.checkValidity()&&s(!0)},onSubmit:f=>{var u;f.preventDefault(),(u=t.onSubmit)==null||u.call(t,{...n})},get children(){return v(Qe,{gap:2,get children(){return[v(Pr,{get tiles(){return n.level**2}}),v(Se,{level:"1",children:"It's Picture Puzzle Time"}),v(Qe,{gap:3,items:"center",get children(){return[v(It,{onChange:f=>r("mode",f.target.value),name:"mode",required:!0,placeholder:"Mode",get children(){return[(()=>{const f=_r();return z(()=>f.selected=n.mode==="rotate"),f})(),(()=>{const f=Lr();return z(()=>f.selected=n.mode==="slide"),f})()]}}),v(It,{onChange:o,name:"difficulty",required:!0,placeholder:"Difficulty level",get children(){return v(Ke,{get each(){return Object.entries(kr)},children:([f,u])=>(()=>{const h=Er(),m=h.firstChild,b=m.nextSibling,C=b.nextSibling,S=C.nextSibling,P=S.nextSibling,F=P.nextSibling;return F.nextSibling,h.value=u,G(h,f,b),G(h,u,S),G(h,u,F),z(()=>h.selected=u===t.initialSetup.level),h})()})}}),v(Mr,{get defaultValue(){return a()},name:"file",accept:"image/*",onChange:f=>{f.target.files&&r("file",f.target.files[0])},required:!0,label:f=>v(Ke,{get each(){return Array.from(f)},children:u=>v(At,{gap:2,items:"center",get children(){return[(()=>{const h=Tr();return z(()=>he(h,"src",URL.createObjectURL(u))),h})(),(()=>{const h=Or(),m=h.firstChild,b=m.nextSibling;return b.nextSibling,G(h,()=>u.name,b),h})()]}})})}),v(ue,{class:"mt-5",type:"submit",get disabled(){return!i()},children:"Start game"})]}})]}})}})}function rn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function jr([e,t],n,r){return[n?()=>n(e()):e,r?i=>t(r(i)):t]}function Nr(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function sn(e,t){const n=Nr(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function on(e,t,n,r){let i=!1;const s=a=>typeof a=="string"?{value:a}:a,o=jr(Q(s(e()),{equals:(a,l)=>a.value===l.value}),void 0,a=>(!i&&t(a),a));return n&&J(n((a=e())=>{i=!0,o[1](s(a)),i=!1})),{signal:o,utils:r}}function Fr(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:Q({value:""})};return e}function Dr(){return on(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"",e):window.history.pushState(r,"",e),sn(window.location.hash.slice(1),n)},e=>rn(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}function Br(){return on(()=>window.location.hash.slice(1),({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"","#"+e):window.location.hash=e;const i=e.indexOf("#"),s=i>=0?e.slice(i+1):"";sn(s,n)},e=>rn(window,"hashchange",()=>e()),{go:e=>window.history.go(e),renderPath:e=>`#${e}`,parsePath:e=>{const t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${t}`}return t}})}function Vr(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,s){if(n)return!(n=!1);const o={to:i,options:s,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of e)a.listener({...o,from:a.location,retry:l=>{l&&(n=!0),a.navigate(i,s)}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}const qr=/^(?:[a-z0-9]+:)?\/\//i,Wr=/^\/+|(\/)\/+$/g;function Te(e,t=!1){const n=e.replace(Wr,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function qe(e,t,n){if(qr.test(t))return;const r=Te(e),i=n&&Te(n);let s="";return!i||t.startsWith("/")?s=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?s=r+i:s=i,(s||"/")+Te(t,!s)}function Ur(e,t){if(e==null)throw new Error(t);return e}function an(e,t){return Te(e).replace(/\/*(\*.*)?$/g,"")+Te(t)}function zr(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function Hr(e,t,n){const[r,i]=e.split("/*",2),s=r.split("/").filter(Boolean),o=s.length;return a=>{const l=a.split("/").filter(Boolean),f=l.length-o;if(f<0||f>0&&i===void 0&&!t)return null;const u={path:o?"":"/",params:{}},h=m=>n===void 0?void 0:n[m];for(let m=0;m<o;m++){const b=s[m],C=l[m],S=b[0]===":",P=S?b.slice(1):b;if(S&&lt(C,h(P)))u.params[P]=C;else if(S||!lt(C,b))return null;u.path+=`/${C}`}if(i){const m=f?l.slice(-f).join("/"):"";if(lt(m,h(i)))u.params[i]=m;else return null}return u}}function lt(e,t){const n=r=>r.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Gr(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,s)=>i+(s.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function ln(e){const t=new Map,n=Mn();return new Proxy({},{get(r,i){return t.has(i)||_n(n,()=>t.set(i,k(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function cn(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return cn(r).reduce((s,o)=>[...s,...i.map(a=>a+o)],[])}const Kr=100,un=Ut(),nt=Ut(),rt=()=>Ur(bt(un),"Make sure your app is wrapped in a <Router />");let Ie;const fn=()=>Ie||bt(nt)||rt().base,dn=()=>rt().navigatorFactory(),Xr=()=>rt().location;function Yr(e,t="",n){const{component:r,data:i,children:s}=e,o=!s||Array.isArray(s)&&!s.length,a={key:e,element:r?()=>v(r,{}):()=>{const{element:l}=e;return l===void 0&&n?v(n,{}):l},preload:e.component?r.preload:e.preload,data:i};return hn(e.path).reduce((l,f)=>{for(const u of cn(f)){const h=an(t,u),m=o?h:h.split("/*",1)[0];l.push({...a,originalPath:u,pattern:m,matcher:Hr(m,!o,e.matchFilters)})}return l},[])}function Zr(e,t=0){return{routes:e,score:Gr(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],o=s.matcher(n);if(!o)return null;r.unshift({...o,route:s})}return r}}}function hn(e){return Array.isArray(e)?e:[e]}function gn(e,t="",n,r=[],i=[]){const s=hn(e);for(let o=0,a=s.length;o<a;o++){const l=s[o];if(l&&typeof l=="object"&&l.hasOwnProperty("path")){const f=Yr(l,t,n);for(const u of f){r.push(u);const h=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!h)gn(l.children,u.pattern,n,r,i);else{const m=Zr([...r],i.length);i.push(m)}r.pop()}}}return r.length?i:i.sort((o,a)=>a.score-o.score)}function Qr(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function Jr(e,t){const n=new URL("http://sar"),r=k(l=>{const f=e();try{return new URL(f,n)}catch{return console.error(`Invalid path ${f}`),l}},n,{equals:(l,f)=>l.href===f.href}),i=k(()=>r().pathname),s=k(()=>r().search,!0),o=k(()=>r().hash),a=k(()=>"");return{get pathname(){return i()},get search(){return s()},get hash(){return o()},get state(){return t()},get key(){return a()},query:ln(Vt(s,()=>zr(r())))}}function ei(e,t="",n,r){const{signal:[i,s],utils:o={}}=Fr(e),a=o.parsePath||(D=>D),l=o.renderPath||(D=>D),f=o.beforeLeave||Vr(),u=qe("",t),h=void 0;if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!i().value&&s({value:u,replace:!0,scroll:!1});const[m,b]=Q(!1),C=async D=>{b(!0);try{await Wt(D)}finally{b(!1)}},[S,P]=Q(i().value),[F,p]=Q(i().state),g=Jr(S,F),y=[],w={pattern:u,params:{},path:()=>u,outlet:()=>null,resolvePath(D){return qe(u,D)}};if(n)try{Ie=w,w.data=n({data:void 0,params:{},location:g,navigate:O(w)})}finally{Ie=void 0}function L(D,j,H){K(()=>{if(typeof j=="number"){j&&(o.go?f.confirm(j,H)&&o.go(j):console.warn("Router integration does not support relative routing"));return}const{replace:Ae,resolve:ye,scroll:ee,state:fe}={replace:!1,resolve:!0,scroll:!0,...H},ie=ye?D.resolvePath(j):qe("",j);if(ie===void 0)throw new Error(`Path '${j}' is not a routable path`);if(y.length>=Kr)throw new Error("Too many redirects");const ve=S();if((ie!==ve||fe!==F())&&!ir){if(f.confirm(ie,H)){const it=y.push({value:ve,replace:Ae,scroll:ee,state:F()});C(()=>{P(ie),p(fe)}).then(()=>{y.length===it&&pe({value:ie,state:fe})})}}})}function O(D){return D=D||bt(nt)||w,(j,H)=>L(D,j,H)}function pe(D){const j=y[0];j&&((D.value!==j.value||D.state!==j.state)&&s({...D,replace:j.replace,scroll:j.scroll}),y.length=0)}z(()=>{const{value:D,state:j}=i();K(()=>{D!==S()&&C(()=>{P(D),p(j)})})});{let D=function(j){if(j.defaultPrevented||j.button!==0||j.metaKey||j.altKey||j.ctrlKey||j.shiftKey)return;const H=j.composedPath().find(ve=>ve instanceof Node&&ve.nodeName.toUpperCase()==="A");if(!H||!H.hasAttribute("link"))return;const Ae=H.href;if(H.target||!Ae&&!H.hasAttribute("state"))return;const ye=(H.getAttribute("rel")||"").split(/\s+/);if(H.hasAttribute("download")||ye&&ye.includes("external"))return;const ee=new URL(Ae);if(ee.origin!==window.location.origin||u&&ee.pathname&&!ee.pathname.toLowerCase().startsWith(u.toLowerCase()))return;const fe=a(ee.pathname+ee.search+ee.hash),ie=H.getAttribute("state");j.preventDefault(),L(w,fe,{resolve:!1,replace:H.hasAttribute("replace"),scroll:!H.hasAttribute("noscroll"),state:ie&&JSON.parse(ie)})};var Be=D;Pt(["click"]),document.addEventListener("click",D),J(()=>document.removeEventListener("click",D))}return{base:w,out:h,location:g,isRouting:m,renderPath:l,parsePath:a,navigatorFactory:O,beforeLeave:f}}function ti(e,t,n,r,i){const{base:s,location:o,navigatorFactory:a}=e,{pattern:l,element:f,preload:u,data:h}=r().route,m=k(()=>r().path);u&&u();const b={parent:t,pattern:l,get child(){return n()},path:m,params:i,data:t.data,outlet:f,resolvePath(C){return qe(s.path(),C,m())}};if(h)try{Ie=b,b.data=h({data:t.data,params:i,location:o,navigate:a(b)})}finally{Ie=void 0}return b}const ni=e=>{const{source:t,url:n,base:r,data:i,out:s}=e,o=t||Dr(),a=ei(o,r,i);return v(un.Provider,{value:a,get children(){return e.children}})},ri=e=>{const t=rt(),n=fn(),r=wt(()=>e.children),i=k(()=>gn(r(),an(n.pattern,e.base||""),ii)),s=k(()=>Qr(i(),t.location.pathname)),o=ln(()=>{const u=s(),h={};for(let m=0;m<u.length;m++)Object.assign(h,u[m].params);return h});t.out&&t.out.matches.push(s().map(({route:u,path:h,params:m})=>({originalPath:u.originalPath,pattern:u.pattern,path:h,params:m})));const a=[];let l;const f=k(Vt(s,(u,h,m)=>{let b=h&&u.length===h.length;const C=[];for(let S=0,P=u.length;S<P;S++){const F=h&&h[S],p=u[S];m&&F&&p.route.key===F.route.key?C[S]=m[S]:(b=!1,a[S]&&a[S](),we(g=>{a[S]=g,C[S]=ti(t,C[S-1]||n,()=>f()[S+1],()=>s()[S],o)}))}return a.splice(u.length).forEach(S=>S()),m&&b?m:(l=C[0],C)}));return v(Pe,{get when(){return f()&&l},keyed:!0,children:u=>v(nt.Provider,{value:u,get children(){return u.outlet()}})})},ct=e=>{const t=wt(()=>e.children);return oe(e,{get children(){return t()}})},ii=()=>{const e=fn();return v(Pe,{get when(){return e.child},keyed:!0,children:t=>v(nt.Provider,{value:t,get children(){return t.outlet()}})})};function si(e){const t=dn(),n=Xr(),{href:r,state:i}=e,s=typeof r=="function"?r({navigate:t,location:n}):r;return t(s,{replace:!0,state:i}),null}var De={};(function e(t,n,r,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;var d=new OffscreenCanvas(1,1),c=d.getContext("2d");c.fillRect(0,0,1,1);var x=d.transferToImageBitmap();try{c.createPattern(x,"no-repeat")}catch{return!1}return!0}();function l(){}function f(d){var c=n.exports.Promise,x=c!==void 0?c:t.Promise;return typeof x=="function"?new x(d):(d(l,l),null)}var u=function(d,c){return{transform:function(x){if(d)return x;if(c.has(x))return c.get(x);var $=new OffscreenCanvas(x.width,x.height),M=$.getContext("2d");return M.drawImage(x,0,0),c.set(x,$),$},clear:function(){c.clear()}}}(a,new Map),h=function(){var d=Math.floor(16.666666666666668),c,x,$={},M=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(c=function(_){var E=Math.random();return $[E]=requestAnimationFrame(function A(T){M===T||M+d-1<T?(M=T,delete $[E],_()):$[E]=requestAnimationFrame(A)}),E},x=function(_){$[_]&&cancelAnimationFrame($[_])}):(c=function(_){return setTimeout(_,d)},x=function(_){return clearTimeout(_)}),{frame:c,cancel:x}}(),m=function(){var d,c,x={};function $(M){function _(E,A){M.postMessage({options:E||{},callback:A})}M.init=function(A){var T=A.transferControlToOffscreen();M.postMessage({canvas:T},[T])},M.fire=function(A,T,B){if(c)return _(A,null),c;var q=Math.random().toString(36).slice(2);return c=f(function(V){function W(X){X.data.callback===q&&(delete x[q],M.removeEventListener("message",W),c=null,u.clear(),B(),V())}M.addEventListener("message",W),_(A,q),x[q]=W.bind(null,{data:{callback:q}})}),c},M.reset=function(){M.postMessage({reset:!0});for(var A in x)x[A](),delete x[A]}}return function(){if(d)return d;if(!r&&s){var M=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{d=new Worker(URL.createObjectURL(new Blob([M])))}catch(_){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",_),null}$(d)}return d}}(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(d,c){return c?c(d):d}function S(d){return d!=null}function P(d,c,x){return C(d&&S(d[c])?d[c]:b[c],x)}function F(d){return d<0?0:Math.floor(d)}function p(d,c){return Math.floor(Math.random()*(c-d))+d}function g(d){return parseInt(d,16)}function y(d){return d.map(w)}function w(d){var c=String(d).replace(/[^0-9a-f]/gi,"");return c.length<6&&(c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2]),{r:g(c.substring(0,2)),g:g(c.substring(2,4)),b:g(c.substring(4,6))}}function L(d){var c=P(d,"origin",Object);return c.x=P(c,"x",Number),c.y=P(c,"y",Number),c}function O(d){d.width=document.documentElement.clientWidth,d.height=document.documentElement.clientHeight}function pe(d){var c=d.getBoundingClientRect();d.width=c.width,d.height=c.height}function Be(d){var c=document.createElement("canvas");return c.style.position="fixed",c.style.top="0px",c.style.left="0px",c.style.pointerEvents="none",c.style.zIndex=d,c}function D(d,c,x,$,M,_,E,A,T){d.save(),d.translate(c,x),d.rotate(_),d.scale($,M),d.arc(0,0,1,E,A,T),d.restore()}function j(d){var c=d.angle*(Math.PI/180),x=d.spread*(Math.PI/180);return{x:d.x,y:d.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:d.startVelocity*.5+Math.random()*d.startVelocity,angle2D:-c+(.5*x-Math.random()*x),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:d.color,shape:d.shape,tick:0,totalTicks:d.ticks,decay:d.decay,drift:d.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:d.gravity*3,ovalScalar:.6,scalar:d.scalar,flat:d.flat}}function H(d,c){c.x+=Math.cos(c.angle2D)*c.velocity+c.drift,c.y+=Math.sin(c.angle2D)*c.velocity+c.gravity,c.velocity*=c.decay,c.flat?(c.wobble=0,c.wobbleX=c.x+10*c.scalar,c.wobbleY=c.y+10*c.scalar,c.tiltSin=0,c.tiltCos=0,c.random=1):(c.wobble+=c.wobbleSpeed,c.wobbleX=c.x+10*c.scalar*Math.cos(c.wobble),c.wobbleY=c.y+10*c.scalar*Math.sin(c.wobble),c.tiltAngle+=.1,c.tiltSin=Math.sin(c.tiltAngle),c.tiltCos=Math.cos(c.tiltAngle),c.random=Math.random()+2);var x=c.tick++/c.totalTicks,$=c.x+c.random*c.tiltCos,M=c.y+c.random*c.tiltSin,_=c.wobbleX+c.random*c.tiltCos,E=c.wobbleY+c.random*c.tiltSin;if(d.fillStyle="rgba("+c.color.r+", "+c.color.g+", "+c.color.b+", "+(1-x)+")",d.beginPath(),o&&c.shape.type==="path"&&typeof c.shape.path=="string"&&Array.isArray(c.shape.matrix))d.fill(ie(c.shape.path,c.shape.matrix,c.x,c.y,Math.abs(_-$)*.1,Math.abs(E-M)*.1,Math.PI/10*c.wobble));else if(c.shape.type==="bitmap"){var A=Math.PI/10*c.wobble,T=Math.abs(_-$)*.1,B=Math.abs(E-M)*.1,q=c.shape.bitmap.width*c.scalar,V=c.shape.bitmap.height*c.scalar,W=new DOMMatrix([Math.cos(A)*T,Math.sin(A)*T,-Math.sin(A)*B,Math.cos(A)*B,c.x,c.y]);W.multiplySelf(new DOMMatrix(c.shape.matrix));var X=d.createPattern(u.transform(c.shape.bitmap),"no-repeat");X.setTransform(W),d.globalAlpha=1-x,d.fillStyle=X,d.fillRect(c.x-q/2,c.y-V/2,q,V),d.globalAlpha=1}else if(c.shape==="circle")d.ellipse?d.ellipse(c.x,c.y,Math.abs(_-$)*c.ovalScalar,Math.abs(E-M)*c.ovalScalar,Math.PI/10*c.wobble,0,2*Math.PI):D(d,c.x,c.y,Math.abs(_-$)*c.ovalScalar,Math.abs(E-M)*c.ovalScalar,Math.PI/10*c.wobble,0,2*Math.PI);else if(c.shape==="star")for(var R=Math.PI/2*3,Z=4*c.scalar,te=8*c.scalar,ne=c.x,ae=c.y,be=5,se=Math.PI/be;be--;)ne=c.x+Math.cos(R)*te,ae=c.y+Math.sin(R)*te,d.lineTo(ne,ae),R+=se,ne=c.x+Math.cos(R)*Z,ae=c.y+Math.sin(R)*Z,d.lineTo(ne,ae),R+=se;else d.moveTo(Math.floor(c.x),Math.floor(c.y)),d.lineTo(Math.floor(c.wobbleX),Math.floor(M)),d.lineTo(Math.floor(_),Math.floor(E)),d.lineTo(Math.floor($),Math.floor(c.wobbleY));return d.closePath(),d.fill(),c.tick<c.totalTicks}function Ae(d,c,x,$,M){var _=c.slice(),E=d.getContext("2d"),A,T,B=f(function(q){function V(){A=T=null,E.clearRect(0,0,$.width,$.height),u.clear(),M(),q()}function W(){r&&!($.width===i.width&&$.height===i.height)&&($.width=d.width=i.width,$.height=d.height=i.height),!$.width&&!$.height&&(x(d),$.width=d.width,$.height=d.height),E.clearRect(0,0,$.width,$.height),_=_.filter(function(X){return H(E,X)}),_.length?A=h.frame(W):V()}A=h.frame(W),T=V});return{addFettis:function(q){return _=_.concat(q),B},canvas:d,promise:B,reset:function(){A&&h.cancel(A),T&&T()}}}function ye(d,c){var x=!d,$=!!P(c||{},"resize"),M=!1,_=P(c,"disableForReducedMotion",Boolean),E=s&&!!P(c||{},"useWorker"),A=E?m():null,T=x?O:pe,B=d&&A?!!d.__confetti_initialized:!1,q=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,V;function W(R,Z,te){for(var ne=P(R,"particleCount",F),ae=P(R,"angle",Number),be=P(R,"spread",Number),se=P(R,"startVelocity",Number),pn=P(R,"decay",Number),yn=P(R,"gravity",Number),vn=P(R,"drift",Number),$t=P(R,"colors",y),bn=P(R,"ticks",Number),Ct=P(R,"shapes"),wn=P(R,"scalar"),xn=!!P(R,"flat"),Mt=L(R),_t=ne,st=[],Sn=d.width*Mt.x,Pn=d.height*Mt.y;_t--;)st.push(j({x:Sn,y:Pn,angle:ae,spread:be,startVelocity:se,color:$t[_t%$t.length],shape:Ct[p(0,Ct.length)],ticks:bn,decay:pn,gravity:yn,drift:vn,scalar:wn,flat:xn}));return V?V.addFettis(st):(V=Ae(d,st,T,Z,te),V.promise)}function X(R){var Z=_||P(R,"disableForReducedMotion",Boolean),te=P(R,"zIndex",Number);if(Z&&q)return f(function(se){se()});x&&V?d=V.canvas:x&&!d&&(d=Be(te),document.body.appendChild(d)),$&&!B&&T(d);var ne={width:d.width,height:d.height};A&&!B&&A.init(d),B=!0,A&&(d.__confetti_initialized=!0);function ae(){if(A){var se={getBoundingClientRect:function(){if(!x)return d.getBoundingClientRect()}};T(se),A.postMessage({resize:{width:se.width,height:se.height}});return}ne.width=ne.height=null}function be(){V=null,$&&(M=!1,t.removeEventListener("resize",ae)),x&&d&&(document.body.removeChild(d),d=null,B=!1)}return $&&!M&&(M=!0,t.addEventListener("resize",ae,!1)),A?A.fire(R,ne,be):W(R,ne,be)}return X.reset=function(){A&&A.reset(),V&&V.reset()},X}var ee;function fe(){return ee||(ee=ye(null,{useWorker:!0,resize:!0})),ee}function ie(d,c,x,$,M,_,E){var A=new Path2D(d),T=new Path2D;T.addPath(A,new DOMMatrix(c));var B=new Path2D;return B.addPath(T,new DOMMatrix([Math.cos(E)*M,Math.sin(E)*M,-Math.sin(E)*_,Math.cos(E)*_,x,$])),B}function ve(d){if(!o)throw new Error("path confetti are not supported in this browser");var c,x;typeof d=="string"?c=d:(c=d.path,x=d.matrix);var $=new Path2D(c),M=document.createElement("canvas"),_=M.getContext("2d");if(!x){for(var E=1e3,A=E,T=E,B=0,q=0,V,W,X=0;X<E;X+=2)for(var R=0;R<E;R+=2)_.isPointInPath($,X,R,"nonzero")&&(A=Math.min(A,X),T=Math.min(T,R),B=Math.max(B,X),q=Math.max(q,R));V=B-A,W=q-T;var Z=10,te=Math.min(Z/V,Z/W);x=[te,0,0,te,-Math.round(V/2+A)*te,-Math.round(W/2+T)*te]}return{type:"path",path:c,matrix:x}}function it(d){var c,x=1,$="#000000",M='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof d=="string"?c=d:(c=d.text,x="scalar"in d?d.scalar:x,M="fontFamily"in d?d.fontFamily:M,$="color"in d?d.color:$);var _=10*x,E=""+_+"px "+M,A=new OffscreenCanvas(_,_),T=A.getContext("2d");T.font=E;var B=T.measureText(c),q=Math.ceil(B.actualBoundingBoxRight+B.actualBoundingBoxLeft),V=Math.ceil(B.actualBoundingBoxAscent+B.actualBoundingBoxDescent),W=2,X=B.actualBoundingBoxLeft+W,R=B.actualBoundingBoxAscent+W;q+=W+W,V+=W+W,A=new OffscreenCanvas(q,V),T=A.getContext("2d"),T.font=E,T.fillStyle=$,T.fillText(c,X,R);var Z=1/x;return{type:"bitmap",bitmap:A.transferToImageBitmap(),matrix:[Z,0,0,Z,-q*Z/2,-V*Z/2]}}n.exports=function(){return fe().apply(this,arguments)},n.exports.reset=function(){fe().reset()},n.exports.create=ye,n.exports.shapeFromPath=ve,n.exports.shapeFromText=it})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),De,!1);const Me=De.exports;De.exports.create;const oi=U("<img hidden>"),ai=U('<div class="flex flex-1 flex-col items-center justify-center overflow-hidden"><div class="grid aspect-square items-center justify-center overflow-hidden transition-[height]">'),li=U('<div class="absolute inset-0 grid h-full w-full animate-[1s_fade-in_500ms] place-content-center font-bold opacity-0 backdrop-blur-lg"><div><img class="m-auto w-1/2 animate-[1s_animate-pop_500ms] shadow-xl">'),ci=U('<div class="grid h-full place-content-center">Loading...'),ui=U('<button type=button class="box-content aspect-square appearance-none border bg-no-repeat transition-[transform,shadow] duration-300">'),fi=e=>{const t=k(()=>{const p=e.tiles||9,g=Math.sqrt(p);return{rows:g,cols:g,tiles:p}}),[n,r]=tt({tiles:[],containerSide:0,start:new Date,current:new Date});de(()=>{r("tiles",Array.from({length:t().rows*t().cols},()=>Math.floor(Math.random()*4)))});const i=setInterval(()=>r("current",new Date),1e3);J(()=>clearInterval(i)),de(()=>{a()&&clearInterval(i)});let s,o=null;const a=k(()=>n.tiles.every(p=>Math.abs(p)%4===0)),l=k(()=>{const{naturalWidth:p,naturalHeight:g}=o||{naturalWidth:0,naturalHeight:0},y=n.containerSide;let w,L,O;return p>g?(w=p/g,L=y,O=y*w):(w=g/p,O=y,L=y*w),{bgWidth:O,bgHeight:L,offsetX:(O-y)/2,offsetY:(L-y)/2}});let f;const u=()=>{clearTimeout(f),f=setTimeout(()=>{const{width:p,height:g}=s.parentElement.getBoundingClientRect();r("containerSide",Math.min(p,g)),Promise.resolve().then(()=>s==null?void 0:s.classList.add("animate-[animate-pop_1s]"))},100)};qt(()=>{window.addEventListener("resize",u),screen.orientation.addEventListener("change",u),J(()=>{screen.orientation.removeEventListener("change",u),window.removeEventListener("resize",u)})});function h(p,g){const y=g%t().cols,w=Math.floor(g/t().rows),{bgWidth:L,bgHeight:O,offsetX:pe,offsetY:Be}=l();return{"background-image":"var(--bg)","background-size":`${L}px ${O}px`,"background-position":`left ${y*-(n.containerSide/t().cols)-pe}px top ${w*-Math.floor(n.containerSide/t().rows)-Be}px`,transform:`${a()?"":"scale(0.75)"} rotate(calc(90deg * ${p}))`,"-webkit-tap-highlight-color":"transparent"}}function m(p,g){r("tiles",p,y=>y+g)}let b;function C(){let p=0;clearInterval(b),b=setInterval(()=>{for(;Math.abs(n.tiles[p])%4===0;)p=(p+1)%n.tiles.length;const g=n.tiles[p]%4;m(p,Math.abs(g)>2?1:-1),a()&&clearInterval(b)},Math.min(1e3,3e3/n.tiles.reduce((g,y)=>g+Math.abs(y%4),0)))}let S,P;de(()=>{if(!a())return;const p=Date.now()+1e3;function g(){Me({particleCount:2,angle:60,spread:55,origin:{x:0}}),Me({particleCount:2,angle:120,spread:55,origin:{x:1}}),Date.now()<p&&(S=requestAnimationFrame(g))}P=setTimeout(g,500)}),J(()=>{cancelAnimationFrame(S),Me.reset(),clearInterval(b),clearTimeout(P)});const F=new Intl.DateTimeFormat("en",{minute:"numeric",second:"numeric"});return v(Qe,{class:"flex-1",get children(){return[(()=>{const p=oi();return p.addEventListener("load",u),_e(g=>{o=g},p),z(()=>he(p,"src",e.image)),p})(),v(Pe,{when:o,get fallback(){return ci()},get children(){return[v(At,{gap:5,class:"m-3",items:"center",justify:"center",get children(){return[v(ue,{get onClick(){return e.onReset},children:"← Back"}),v(Se,{level:3,get children(){return F.format(new Date(n.current.getTime()-n.start.getTime()))}}),v(ue,{onClick:C,children:"Solve"})]}}),(()=>{const p=ai(),g=p.firstChild;return _e(y=>{s=y},g),G(g,v(Bn,{get each(){return n.tiles},children:(y,w)=>(()=>{const L=ui();return Ne(L,oe({get disabled(){return!!a()},get classList(){return{"border-transparent":a(),"shadow-xl":!a()}},get style(){return h(y(),w)}},()=>({["ontouchstart"in window?"onTouchStart":"onClick"]:O=>{O.preventDefault(),m(w,O.shiftKey?-1:1)}})),!1,!1),L})()})),z(y=>{const w=`${n.containerSide}px`,L=`url(${e.image})`,O=`repeat(${t().cols}, minmax(0, 1fr))`;return w!==y._v$&&((y._v$=w)!=null?g.style.setProperty("height",w):g.style.removeProperty("height")),L!==y._v$2&&((y._v$2=L)!=null?g.style.setProperty("--bg",L):g.style.removeProperty("--bg")),O!==y._v$3&&((y._v$3=O)!=null?g.style.setProperty("grid-template-columns",O):g.style.removeProperty("grid-template-columns")),y},{_v$:void 0,_v$2:void 0,_v$3:void 0}),p})()]}}),v(Pe,{get when(){return a()},get children(){const p=li(),g=p.firstChild,y=g.firstChild;return p.style.setProperty("animation-fill-mode","forwards"),G(g,v(Se,{level:2,children:"You Won!"}),null),G(g,v(Se,{level:4,get children(){return`Time ellapsed: ${F.format(new Date(n.current.getTime()-n.start.getTime()))}`}}),null),G(g,v(ue,{class:"m-auto block text-xl font-normal",onClick:()=>e.onReset(),children:"Play Again"}),null),z(()=>he(y,"src",e.image)),p}})]}})};var Nt=()=>{};function di(e,t){const n=K(e),{onChange:r}=t;let i=new Set(t.appear?void 0:n);const s=new WeakSet,[o,a]=Q([],{equals:!1}),[l]=En(),f=t.exitMethod==="remove"?Nt:h=>{a(m=>(m.push.apply(m,h),m));for(const m of h)s.delete(m)},u=t.exitMethod==="remove"?Nt:t.exitMethod==="keep-index"?(h,m,b)=>h.splice(b,0,m):(h,m)=>h.push(m);return k(h=>{const m=o(),b=e();if(b[Oe],K(l))return l(),h;if(m.length){const C=h.filter(S=>!m.includes(S));return m.length=0,r({list:C,added:[],removed:[],unchanged:C,finishRemoved:f}),C}return K(()=>{const C=new Set(b),S=b.slice(),P=[],F=[],p=[];for(const y of b)(i.has(y)?p:P).push(y);let g=!P.length;for(let y=0;y<h.length;y++){const w=h[y];C.has(w)||(s.has(w)||(F.push(w),s.add(w)),u(S,w,y)),g&&w!==S[y]&&(g=!1)}return!F.length&&g?h:(r({list:S,added:P,removed:F,unchanged:p,finishRemoved:f}),i=C,S)})},t.appear?[]:n.slice())}var Ft=e=>e instanceof Element;function vt(e,t){if(t(e))return e;if(typeof e=="function"&&!e.length)return vt(e(),t);if(Array.isArray(e)){const n=[];for(const r of e){const i=vt(r,t);i&&(Array.isArray(i)?n.push.apply(n,i):n.push(i))}return n.length?n:null}return null}function hi(e,t=Ft,n=Ft){const r=k(e),i=k(()=>vt(r(),t));return i.toArray=()=>{const s=i();return Array.isArray(s)?s:s?[s]:[]},i}function gi(e){return k(()=>{const t=e.name||"s";return{enterActive:(e.enterActiveClass||t+"-enter-active").split(" "),enter:(e.enterClass||t+"-enter").split(" "),enterTo:(e.enterToClass||t+"-enter-to").split(" "),exitActive:(e.exitActiveClass||t+"-exit-active").split(" "),exit:(e.exitClass||t+"-exit").split(" "),exitTo:(e.exitToClass||t+"-exit-to").split(" "),move:(e.moveClass||t+"-move").split(" ")}})}function mn(e){requestAnimationFrame(()=>requestAnimationFrame(e))}function mi(e,t,n,r){const{onBeforeEnter:i,onEnter:s,onAfterEnter:o}=t;i==null||i(n),n.classList.add(...e.enter),n.classList.add(...e.enterActive),queueMicrotask(()=>{if(!n.parentNode)return r==null?void 0:r();s==null||s(n,()=>a())}),mn(()=>{n.classList.remove(...e.enter),n.classList.add(...e.enterTo),(!s||s.length<2)&&(n.addEventListener("transitionend",a),n.addEventListener("animationend",a))});function a(l){(!l||l.target===n)&&(r==null||r(),n.removeEventListener("transitionend",a),n.removeEventListener("animationend",a),n.classList.remove(...e.enterActive),n.classList.remove(...e.enterTo),o==null||o(n))}}function pi(e,t,n,r){const{onBeforeExit:i,onExit:s,onAfterExit:o}=t;if(!n.parentNode)return r==null?void 0:r();i==null||i(n),n.classList.add(...e.exit),n.classList.add(...e.exitActive),s==null||s(n,()=>a()),mn(()=>{n.classList.remove(...e.exit),n.classList.add(...e.exitTo),(!s||s.length<2)&&(n.addEventListener("transitionend",a),n.addEventListener("animationend",a))});function a(l){(!l||l.target===n)&&(r==null||r(),n.removeEventListener("transitionend",a),n.removeEventListener("animationend",a),n.classList.remove(...e.exitActive),n.classList.remove(...e.exitTo),o==null||o(n))}}var yi=e=>{const t=gi(e);return di(hi(()=>e.children).toArray,{appear:e.appear,exitMethod:"keep-index",onChange({added:n,removed:r,finishRemoved:i,list:s}){const o=t();for(const l of n)mi(o,e,l);const a=[];for(const l of s)l.isConnected&&(l instanceof HTMLElement||l instanceof SVGElement)&&a.push({el:l,rect:l.getBoundingClientRect()});queueMicrotask(()=>{const l=[];for(const{el:f,rect:u}of a)if(f.isConnected){const h=f.getBoundingClientRect(),m=u.left-h.left,b=u.top-h.top;(m||b)&&(f.style.transform=`translate(${m}px, ${b}px)`,f.style.transitionDuration="0s",l.push(f))}document.body.offsetHeight;for(const f of l){let u=function(h){(h.target===f||/transform$/.test(h.propertyName))&&(f.removeEventListener("transitionend",u),f.classList.remove(...o.move))};f.classList.add(...o.move),f.style.transform=f.style.transitionDuration="",f.addEventListener("transitionend",u)}});for(const l of r)pi(o,e,l,()=>i([l]))}})};const vi=U("<img hidden>"),bi=U('<div class="flex flex-1 flex-col items-center justify-center overflow-hidden"><div class="grid aspect-square items-center justify-center overflow-hidden transition-[height]">'),wi=U('<div class="absolute inset-0 grid h-full w-full animate-[1s_fade-in_500ms] place-content-center font-bold opacity-0 backdrop-blur-lg"><div><img class="m-auto w-1/2 animate-[1s_animate-pop_500ms] shadow-xl">'),xi=U('<div class="grid h-full place-content-center">Loading...'),Si=U('<button type=button class="box-content aspect-square appearance-none border bg-no-repeat transition-[transform,shadow] duration-300">'),Pi=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},ut=(e,t)=>[e%t,Math.floor(e/t)],Ai=e=>{const t=k(()=>{const p=e.tiles||9,g=Math.sqrt(p);return{rows:g,cols:g,tiles:p}}),[n,r]=tt({tiles:[],containerSide:0,start:new Date,current:new Date,emptySlot:0});de(()=>{const p=Array.from({length:t().rows*t().cols},(g,y)=>y).sort(()=>Math.random()-.5);r("tiles",p),r("emptySlot",p.length-1)});const i=setInterval(()=>r("current",new Date),1e3);J(()=>clearInterval(i)),de(()=>{a()&&clearInterval(i)});let s,o=null;const a=k(()=>n.tiles.every((p,g)=>p===g)),l=k(()=>{const{naturalWidth:p,naturalHeight:g}=o||{naturalWidth:0,naturalHeight:0},y=n.containerSide;let w,L,O;return p>g?(w=p/g,L=y,O=y*w):(w=g/p,O=y,L=y*w),{bgWidth:O,bgHeight:L,offsetX:(O-y)/2,offsetY:(L-y)/2}});let f;const u=()=>{clearTimeout(f),f=setTimeout(()=>{const{width:p,height:g}=s.parentElement.getBoundingClientRect();r("containerSide",Math.min(p,g)),Promise.resolve().then(()=>s==null?void 0:s.classList.add("animate-[animate-pop_1s]"))},100)};qt(()=>{window.addEventListener("resize",u),screen.orientation.addEventListener("change",u),J(()=>{screen.orientation.removeEventListener("change",u),window.removeEventListener("resize",u)})});function h(p){const[g,y]=ut(p,t().cols),{bgWidth:w,bgHeight:L,offsetX:O,offsetY:pe}=l();return{"background-image":"var(--bg)","background-size":`${w}px ${L}px`,"background-position":`left ${g*-(n.containerSide/t().cols)-O}px top ${y*-Math.floor(n.containerSide/t().rows)-pe}px`,"-webkit-tap-highlight-color":"transparent"}}function m(p){const g=n.tiles.indexOf(n.emptySlot),[y,w]=ut(g,t().cols),[L,O]=ut(p,t().cols);switch(!0){case y===L:if(Math.abs(w-O)!==1)return;break;case w===O:if(Math.abs(y-L)!==1)return;break;default:return!0}r("tiles",Pi(n.tiles.slice(0),g,p))}let b;function C(){alert("Not ready yet")}let S,P;de(()=>{if(!a())return;const p=Date.now()+1e3;function g(){Me({particleCount:2,angle:60,spread:55,origin:{x:0}}),Me({particleCount:2,angle:120,spread:55,origin:{x:1}}),Date.now()<p&&(S=requestAnimationFrame(g))}P=setTimeout(g,500)}),J(()=>{cancelAnimationFrame(S),Me.reset(),clearInterval(b),clearTimeout(P)});const F=new Intl.DateTimeFormat("en",{minute:"numeric",second:"numeric"});return v(Qe,{class:"flex-1",get children(){return[(()=>{const p=vi();return p.addEventListener("load",u),_e(g=>{o=g},p),z(()=>he(p,"src",e.image)),p})(),v(Pe,{when:o,get fallback(){return xi()},get children(){return[v(At,{gap:5,class:"m-3",items:"center",justify:"center",get children(){return[v(ue,{get onClick(){return e.onReset},children:"← Back"}),v(Se,{level:3,get children(){return F.format(new Date(n.current.getTime()-n.start.getTime()))}}),v(ue,{onClick:C,children:"Solve"})]}}),(()=>{const p=bi(),g=p.firstChild;return _e(y=>{s=y},g),G(g,v(yi,{name:"slide",get children(){return v(Ke,{get each(){return n.tiles},children:(y,w)=>(()=>{const L=Si();return Ne(L,oe({get disabled(){return!!a()},get classList(){return{"border-transparent":a(),"shadow-xl":!a(),"opacity-0":y===n.emptySlot}},get style(){return h(y)}},()=>({["ontouchstart"in window?"onTouchStart":"onClick"]:O=>{O.preventDefault(),m(w())}})),!1,!1),L})()})}})),z(y=>{const w=`${n.containerSide}px`,L=`url(${e.image})`,O=`repeat(${t().cols}, minmax(0, 1fr))`;return w!==y._v$&&((y._v$=w)!=null?g.style.setProperty("height",w):g.style.removeProperty("height")),L!==y._v$2&&((y._v$2=L)!=null?g.style.setProperty("--bg",L):g.style.removeProperty("--bg")),O!==y._v$3&&((y._v$3=O)!=null?g.style.setProperty("grid-template-columns",O):g.style.removeProperty("grid-template-columns")),y},{_v$:void 0,_v$2:void 0,_v$3:void 0}),p})()]}}),v(Pe,{get when(){return a()},get children(){const p=wi(),g=p.firstChild,y=g.firstChild;return p.style.setProperty("animation-fill-mode","forwards"),G(g,v(Se,{level:2,children:"You Won!"}),null),G(g,v(Se,{level:4,get children(){return`Time ellapsed: ${F.format(new Date(n.current.getTime()-n.start.getTime()))}`}}),null),G(g,v(ue,{class:"m-auto block text-xl font-normal",onClick:()=>e.onReset(),children:"Play Again"}),null),z(()=>he(y,"src",e.image)),p}})]}})};function $i(){const e=dn(),[t,n]=tt({mode:"rotate",file:null,level:3});return v(ri,{get children(){return[v(ct,{path:"/setup",component:()=>v(Ir,{initialSetup:t,onSubmit:r=>{n(r),e(`/${r.mode}`)}})}),k(()=>k(()=>!!t.file)()&&[v(ct,{path:"/rotate",component:()=>v(fi,{get tiles(){return t.level**2},get image(){return URL.createObjectURL(t.file)},onReset:()=>{e("/setup")}})}),v(ct,{path:"/slide",component:()=>v(Ai,{get tiles(){return t.level**2},get image(){return URL.createObjectURL(t.file)},onReset:()=>{e("/setup")}})})]),v(si,{href:"/setup"})]}})}const Ci=document.getElementById("root");Zn(()=>v(ni,{get source(){return Br()},get children(){return v($i,{})}}),Ci)});export default Mi();
